(this["webpackJsonpfira-web"]=this["webpackJsonpfira-web"]||[]).push([[0],{103:function(e,t,n){e.exports={container:"AnnotationFeedback_container__3lJyj",headline:"AnnotationFeedback_headline__1MCu2",errorList:"AnnotationFeedback_errorList__32-8k"}},164:function(e,t,n){e.exports={app:"App_app__291qZ"}},172:function(e,t,n){e.exports={menuButton:"Menu_menuButton__2DoUk"}},175:function(e,t,n){e.exports={horizontalLine:"Line_horizontalLine__2MX1a"}},176:function(e,t,n){e.exports=n.p+"static/media/info-page-01.362e062c.png"},177:function(e,t,n){e.exports=n.p+"static/media/info-page-02.7e7f805f.png"},182:function(e,t,n){e.exports=n(327)},190:function(e,t,n){},212:function(e,t){},214:function(e,t){},25:function(e,t,n){e.exports={container:"Admin_container__33Ln9",adminArea:"Admin_adminArea__32AQI",actionBar:"Admin_actionBar__1sZ-J",options:"Admin_options__3JgHD",button:"Admin_button__HYdyi",statisticsContainer:"Admin_statisticsContainer__1sIQ8",statisticValue:"Admin_statisticValue__2yFP8",statisticLabel:"Admin_statisticLabel__1bWck",statistic:"Admin_statistic__2fbh8"}},251:function(e,t){},252:function(e,t){},31:function(e,t,n){e.exports={labelInput:"FloatingInput_labelInput__10wpa",inputContainer:"FloatingInput_inputContainer__QiCsd",inputContainerError:"FloatingInput_inputContainerError__3CdgT",label:"FloatingInput_label__2jORm",labelActive:"FloatingInput_labelActive__1MHdi",input:"FloatingInput_input__gLnnR",inputActive:"FloatingInput_inputActive__2r5uL",textarea:"FloatingInput_textarea__17ztw",select:"FloatingInput_select__3m6Yr"}},327:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(68),i=n.n(o),c=n(10),s=(n(190),n(164)),u=n.n(s),l=n(40),d=n(56),m=n(1),f=n.n(m),p=n(57),g=n.n(p),v=n(32),E=n(4),_=n(16),h=n(13),b=n(26),y=n(58),N=n.n(y),O=n(49),T=n.n(O),x=n(75),A=n.n(x),w=function(e){var t=e.type,n=void 0===t?"secondary":t;return r.a.createElement("div",{className:"".concat(A.a.ldsEllipsis," ").concat("primary"===n?A.a.typePrimary:A.a.typeSecondary)},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))},S=r.a.forwardRef((function(e,t){var n=e.children,o=e.buttonType,i=void 0===o?"secondary":o,c=e.isLoading,s=Object(h.a)(e,["children","buttonType","isLoading"]),u=Object(a.useState)(!1),l=Object(_.a)(u,2),d=l[0],m=l[1];return r.a.createElement("button",Object.assign({},s,{onClick:function(e){"function"===typeof s.onClick&&s.onClick(e),m(!0)},onTransitionEnd:function(e){"function"===typeof s.onTransitionEnd&&s.onTransitionEnd(e),m(!1)},ref:t,className:"".concat(s.className," ").concat(T.a.button," ").concat(d&&T.a.animate," ").concat("primary"===i?T.a.typePrimary:"secondary"===i?T.a.typeSecondary:T.a.typeTertiary)}),c?r.a.createElement("div",null,r.a.createElement(w,{type:"tertiary"===i?"secondary":i})):"string"===typeof n?r.a.createElement("span",null,n):n)})),j=n(31),R=n.n(j);function k(e){throw new Error("Should not get here")}var P=function(e){var t=e.children,n=Object(h.a)(e,["children"]);return r.a.createElement("div",Object.assign({},n,{className:"".concat(n.className," ").concat(R.a.labelInput)}),t)},I=function(e){var t=e.isError,n=e.children,a=Object(h.a)(e,["isError","children"]);return r.a.createElement("div",Object.assign({},a,{className:"".concat(a.className," ").concat(t&&R.a.inputContainerError," ").concat(R.a.inputContainer)}),n)},C=function(e){var t=e.active,n=e.children,a=Object(h.a)(e,["active","children"]);return r.a.createElement("label",Object.assign({},a,{className:"".concat(a.className," ").concat(!!t&&R.a.labelActive," ").concat(R.a.label)}),n)},D=function(e){var t=e.children,n=e.active,a=e.inputRef,o=Object(h.a)(e,["children","active","inputRef"]);return r.a.createElement("input",Object.assign({},o,{ref:a,className:"".concat(o.className," ").concat(!!n&&R.a.inputActive," ").concat(R.a.input)}),t)},L=function(e){var t=e.children,n=e.textareaRef,a=Object(h.a)(e,["children","textareaRef"]);return r.a.createElement("textarea",Object.assign({},a,{ref:n,className:"".concat(a.className," ").concat(R.a.textarea)}),t)},F=function(e){var t=e.children,n=Object(h.a)(e,["children"]);return r.a.createElement("select",Object.assign({},n,{className:"".concat(n.className," ").concat(R.a.select)}),t)},J=function(e){var t=e.id,n=e.label,o=e.type,i=e.className,c=e.isError,s=e.value,u=e.childType,l=Object(h.a)(e,["id","label","type","className","isError","value","childType"]),d=Object(a.useState)("input"!==u||!!s&&s.length>0),m=Object(_.a)(d,2),f=m[0],p=m[1],g=Object(a.useRef)(null),v=Object(a.useRef)(null);function E(e){p(!0),l.onFocus&&l.onFocus(e)}function b(e){e.target.value&&0!==e.target.value.length||p(!1),l.onBlur&&l.onBlur(e)}return r.a.createElement(P,null,r.a.createElement(I,{onClick:function(){"input"===u?g.current.focus():"textarea"===u&&v.current.focus()},isError:c,className:i},n&&r.a.createElement(C,{htmlFor:t,active:f},n),"input"===u?r.a.createElement(D,Object.assign({},l,{active:f,id:t,onBlur:b,onFocus:E,inputRef:g,type:o})):"select"===u?r.a.createElement(F,l,l.children):"textarea"===u?r.a.createElement(L,Object.assign({},l,{id:t,onBlur:b,onFocus:E,textareaRef:v,onInput:function(){v.current.style.height="auto",v.current.style.height=v.current.scrollHeight+"px"}})):k()))},B=function(e){var t=e.label,n=Object(h.a)(e,["label"]),a=Object(b.d)(n),o=Object(_.a)(a,2),i=o[0],c=o[1],s=!(!c.touched||!c.error);return r.a.createElement("div",null,r.a.createElement(J,Object.assign({childType:"input",isError:s,htmlFor:n.id||n.name,label:t},i,n)))},G=function(e){var t=Object(E.a)({},e),n=Object(b.d)(t),a=Object(_.a)(n,1)[0];return r.a.createElement("div",null,r.a.createElement(J,Object.assign({childType:"textarea",htmlFor:t.id||t.name},a,t)))},U=function(e){var t=e.label,n=Object(h.a)(e,["label"]),a=Object(b.d)(n),o=Object(_.a)(a,1)[0];return r.a.createElement("div",null,r.a.createElement(J,Object.assign({childType:"select",htmlFor:n.id||n.name,label:t},o,n)))},q=function(e){var t=e.initialValues,n=e.validate,a=e.onSubmit,o=e.elements;return r.a.createElement(b.c,{initialValues:Object(v.a)({},t,{formError:""}),validate:n,onSubmit:function(e,t){var n,r;return f.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return n=t.setSubmitting,r=t.setErrors,o.prev=1,o.next=4,f.a.awrap(a(e,{setSubmitting:n,setErrors:r}));case 4:o.next=10;break;case 6:o.prev=6,o.t0=o.catch(1),"string"===typeof o.t0.message&&/Network Error/i.test(o.t0.message)||"ECONNABORTED"===o.t0.code?r({formError:"Network error. Please make sure to be online."}):r({formError:"Unexpected error occured."}),n(!1);case 10:case"end":return o.stop()}}),null,null,[[1,6]])}},(function(e){var t=e.isSubmitting,n=e.errors;return r.a.createElement(b.b,null,r.a.createElement("div",{className:N.a.inputContainer},o.map((function(e,t){var n="input"===e.elementType?r.a.createElement(B,Object.assign({key:t,label:e.label},e.htmlProps)):"select"===e.elementType?r.a.createElement(U,Object.assign({key:t,label:e.label},e.htmlProps),e.childElements):"textarea"===e.elementType?r.a.createElement(G,Object.assign({key:t},e.htmlProps)):k(),a=t===o.length-1;return r.a.createElement(r.a.Fragment,null,n,a?null:r.a.createElement("div",{className:N.a.inputDivider}))}))),n.formError&&n.formError.length&&n.formError.length>0&&r.a.createElement("ul",{className:N.a.errorList},r.a.createElement("li",null,r.a.createElement("span",null,n.formError))),r.a.createElement(S,{className:N.a.button,buttonType:"primary",type:"submit",disabled:t,isLoading:t},"Continue"))}))},M=n(167),V=n.n(M),z=n(168),W=n(169),K=n(179),H=n(73),Y=n(170),Q=n(180),Z=function(e){function t(e,n){var a;return Object(z.a)(this,t),(a=Object(K.a)(this,Object(H.a)(t).call(this))).errorText=void 0,a.status=void 0,a.errorText=e,a.status=n,a.message=e,a}return Object(Y.a)(t,e),Object(W.a)(t,[{key:"getResponse",value:function(){return this.errorText}},{key:"getStatus",value:function(){return this.status}},{key:"toString",value:function(){return"HttpException: status=".concat(this.status,", errorText='").concat(this.errorText,"'")}}]),t}(Object(Q.a)(Error)),X=function(e){var t=function(t){return function(n){for(var a=arguments.length,r=new Array(a>1?a-1:0),o=1;o<a;o++)r[o-1]=arguments[o];return t.apply(void 0,["[".concat(e,"] ").concat(n)].concat(r))}};return{debug:t(console.debug),info:t(console.info),error:t(console.error),dir:t(console.dir),group:console.group,groupEnd:console.groupEnd}},$=V.a.create({baseURL:window.location.origin,timeout:5e3}),ee=X("http.client"),te=function(e){var t;return f.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return ee.info("executing login...",{username:e.username}),n.prev=1,n.next=4,f.a.awrap($.post("auth/v1/login",e));case 4:return n.abrupt("return",n.sent.data);case 7:if(n.prev=7,n.t0=n.catch(1),ee.error("login failed!",n.t0),401!==(null===(t=n.t0.response)||void 0===t?void 0:t.status)){n.next=12;break}throw new Z("credentials invalid",401);case 12:throw n.t0;case 13:case"end":return n.stop()}}),null,null,[[1,7]])},ne=function(e){var t,n,a;return f.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:ee.info("executing refresh...",{refreshRequest:e}),t=1;case 2:if(!(t<=5)){r.next=21;break}return r.prev=3,r.next=6,f.a.awrap($.post("auth/v1/refresh",e));case 6:return r.abrupt("return",r.sent.data);case 9:if(r.prev=9,r.t0=r.catch(3),ee.info("refresh failed for attempt=".concat(t),{error:r.t0}),n=r.t0,t++,!(null===(a=r.t0.response)||void 0===a?void 0:a.status)){r.next=16;break}return r.abrupt("break",21);case 16:if(!(t<=5)){r.next=19;break}return r.next=19,f.a.awrap(ue(3e3));case 19:r.next=2;break;case 21:throw ee.error("refresh failed!",n),n;case 23:case"end":return r.stop()}}),null,null,[[3,9]])},ae=function(e){return f.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return ee.info("executing preload judgements..."),t.prev=1,t.next=4,f.a.awrap($.post("judgements/v1/preload",null,{headers:{authorization:"Bearer ".concat(e)}}));case 4:return t.abrupt("return",t.sent.data);case 7:throw t.prev=7,t.t0=t.catch(1),ee.error("preload judgements failed!",t.t0),t.t0;case 11:case"end":return t.stop()}}),null,null,[[1,7]])},re=function(e,t,n){return f.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return ee.info("executing submit judgement...",{submitJudgementRequest:n}),a.prev=1,a.next=4,f.a.awrap($.put("judgements/v1/".concat(t),n,{headers:{authorization:"Bearer ".concat(e)}}));case 4:return a.abrupt("return",a.sent.data);case 7:throw a.prev=7,a.t0=a.catch(1),ee.error("submit judgement failed!",a.t0),a.t0;case 11:case"end":return a.stop()}}),null,null,[[1,7]])},oe=function(e,t){return f.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return ee.info("executing submit feedback...",{submitFeedbackRequest:t}),n.prev=1,n.next=4,f.a.awrap($.post("feedback/v1",t,{headers:{authorization:"Bearer ".concat(e)}}));case 4:return n.abrupt("return",n.sent.data);case 7:throw n.prev=7,n.t0=n.catch(1),ee.error("submit feedback failed!",n.t0),n.t0;case 11:case"end":return n.stop()}}),null,null,[[1,7]])},ie=function(e){return f.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return ee.info("executing export of judgements..."),t.prev=1,t.next=4,f.a.awrap($.get("admin/v1/judgements/export/tsv",{headers:{authorization:"Bearer ".concat(e)}}));case 4:return t.abrupt("return",t.sent.data);case 7:throw t.prev=7,t.t0=t.catch(1),ee.error("export of judgements failed!",t.t0),t.t0;case 11:case"end":return t.stop()}}),null,null,[[1,7]])},ce=function(e,t){return f.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return ee.info("executing update of config...",{updateConfigRequest:t}),n.prev=1,n.next=4,f.a.awrap($.put("admin/v1/config",t,{headers:{authorization:"Bearer ".concat(e)}}));case 4:return n.abrupt("return",n.sent.data);case 7:throw n.prev=7,n.t0=n.catch(1),ee.error("update of config failed!",n.t0),n.t0;case 11:case"end":return n.stop()}}),null,null,[[1,7]])},se=function(e){return f.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return ee.info("executing retrieval of statistics..."),t.prev=1,t.next=4,f.a.awrap($.get("admin/v1/statistics",{headers:{authorization:"Bearer ".concat(e)}}));case 4:return t.abrupt("return",t.sent.data);case 7:throw t.prev=7,t.t0=t.catch(1),ee.error("retrieval of statistics failed!",t.t0),t.t0;case 11:case"end":return t.stop()}}),null,null,[[1,7]])};function ue(e){return new Promise((function(t){return setTimeout(t,e)}))}var le,de,me,fe,pe,ge=n(178),ve=n(11),Ee=n(59),_e=n.n(Ee),he=X("browser-storage"),be=function(e){he.info("saveUser called",{user:e}),localStorage.setItem("user",JSON.stringify(e))},ye=function(){he.info("clearUser called"),localStorage.removeItem("user")},Ne=function(){he.info("getUser called");var e=localStorage.getItem("user");return e?(he.info("user found",{currentlyStoredUser:e}),JSON.parse(e)):(he.info("no user found"),null)},Oe=X("user.subscriptions");!function(e){e.PLAIN_RELEVANCE_SCORING="PLAIN_RELEVANCE_SCORING",e.SCORING_AND_SELECT_SPANS="SCORING_AND_SELECT_SPANS"}(le||(le={})),function(e){e.NOT_RELEVANT="0_NOT_RELEVANT",e.TOPIC_RELEVANT_DOES_NOT_ANSWER="1_TOPIC_RELEVANT_DOES_NOT_ANSWER",e.GOOD_ANSWER="2_GOOD_ANSWER",e.PERFECT_ANSWER="3_PERFECT_ANSWER",e.MISLEADING_ANSWER="-1_MISLEADING_ANSWER"}(de||(de={})),function(e){e.ANNOTATE="ANNOTATE",e.SUBMIT_FEEDBACK="SUBMIT_FEEDBACK"}(me||(me={})),function(e){e.VERY_GOOD="VERY_GOOD",e.GOOD="GOOD",e.DECENT="DECENT",e.DONT_LIKE_IT="DONT_LIKE_IT"}(fe||(fe={})),function(e){e.ANNOTATOR="ANNOTATOR",e.ADMIN="ADMIN"}(pe||(pe={}));var Te,xe=[{relevanceLevel:de.MISLEADING_ANSWER,annotationRequired:!1},{relevanceLevel:de.NOT_RELEVANT,annotationRequired:!1},{relevanceLevel:de.TOPIC_RELEVANT_DOES_NOT_ANSWER,annotationRequired:!0},{relevanceLevel:de.GOOD_ANSWER,annotationRequired:!0},{relevanceLevel:de.PERFECT_ANSWER,annotationRequired:!0}],Ae=n(99),we=Object(ve.b)("AUTHENTICATED"),Se=Object(ve.b)("ACKNOWLEDGED_INFO_PAGE"),je=Object(ve.b)("LOGGED_OUT"),Re=Object(ve.c)(null,(function(e){return e.addCase(we,(function(e,t){var n,a,r,o,i=Ae.decode(t.payload.accessToken),c=Ae.decode(t.payload.refreshToken),s=!!(null===(n=i.resource_access)||void 0===n?void 0:null===(a=n["realm-management"])||void 0===a?void 0:null===(r=a.roles)||void 0===r?void 0:r.some((function(e){return"manage-users"===e}))),u=null!==(o=null===e||void 0===e?void 0:e.acknowledgedInfoPage)&&void 0!==o&&o;return Object(v.a)({},e,{accessToken:{val:t.payload.accessToken,expiry:i.exp},refreshToken:{val:t.payload.refreshToken,expiry:c.exp},acknowledgedInfoPage:u,role:s?pe.ADMIN:pe.ANNOTATOR})})).addCase(Se,(function(e,t){e.acknowledgedInfoPage=t.payload.acknowledgedInfoPage})).addCase(je,(function(){return null}))})),ke={authenticate:we,acknowledgeInfoPage:Se,logout:je},Pe=Re;!function(e){e.TO_JUDGE="TO_JUDGE",e.SEND_PENDING="SEND_PENDING",e.SEND_SUCCESS="SEND_SUCCESS",e.SEND_FAILED="SEND_FAILED"}(Te||(Te={}));var Ie={judgementPairs:[]},Ce=Object(ve.b)("JUDGEMENTS_PRELOADED"),De=Object(ve.b)("JUDGEMENT_PAIR_RATED"),Le=Object(ve.b)("RANGE_STARTOREND_SELECTED"),Fe=Object(ve.b)("RANGE_DELETED"),Je=Object(ve.b)("JUDGEMENT_STATUS_SET"),Be=Object(ve.b)("JUDGEMENT_PAIR_SELECTED"),Ge=Object(ve.c)(Ie,(function(e){return e.addCase(Ce,(function(e,t){e.alreadyFinished=t.payload.alreadyFinished,e.remainingToFinish=t.payload.remainingToFinish,e.requiredUserAction=t.payload.requiredUserAction;var n=t.payload.judgements;e.judgementPairs=n.map((function(t){var n,a,r=e.judgementPairs.find((function(e){return e.id===t.id}));return r&&(a=t,(n=r).queryText===a.queryText&&n.docAnnotationParts.length===a.docAnnotationParts.length&&!n.docAnnotationParts.some((function(e,t){return a.docAnnotationParts[t]!==e})))?Object(v.a)({},t,{},r):Object(v.a)({},t,{annotatedRanges:[],status:Te.TO_JUDGE})}))})).addCase(De,(function(e,t){var n=e.judgementPairs.find((function(t){return t.id===e.currentJudgementPairId}));n.relevanceLevel=t.payload.relevanceLevel,xe.find((function(e){return e.relevanceLevel===n.relevanceLevel})).annotationRequired||(n.annotatedRanges=[],n.currentAnnotationStart=void 0)})).addCase(Le,(function(e,t){var n=e.judgementPairs.find((function(t){return t.id===e.currentJudgementPairId}));if(void 0===n.currentAnnotationStart)n.currentAnnotationStart=t.payload.annotationPartIndex;else{var a=n.currentAnnotationStart,r=t.payload.annotationPartIndex,o=a<r?a:r,i=r>a?r:a;n.annotatedRanges=n.annotatedRanges.filter((function(e){return!(e.start>=o&&e.end<=i)})),n.annotatedRanges.push({start:o,end:i}),n.currentAnnotationStart=void 0}})).addCase(Fe,(function(e,t){var n=e.judgementPairs.find((function(t){return t.id===e.currentJudgementPairId}));n.annotatedRanges=n.annotatedRanges.filter((function(e){return!(t.payload.annotationPartIndex>=e.start&&t.payload.annotationPartIndex<=e.end)}))})).addCase(Je,(function(e,t){e.judgementPairs.find((function(e){return e.id===t.payload.id})).status=t.payload.status})).addCase(Be,(function(e,t){var n,a;e.currentJudgementPairId!==(null===(n=t.payload)||void 0===n?void 0:n.id)&&(e.currentJudgementPairId=null===(a=t.payload)||void 0===a?void 0:a.id,e.currentJudgementPairSelectedOnMs=(new Date).getTime())})).addCase(ke.logout,(function(){return Ie}))}));var Ue={preloadJudgements:Ce,rateJudgementPair:De,selectRangeStartEnd:Le,deleteRange:Fe,setJudgementStatus:Je,selectJudgementPair:Be},qe=Ge,Me=X("judgements.service"),Ve={preloadJudgements:function(){var e;return f.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return Me.info("executing preload judgements..."),t.next=3,f.a.awrap(ae(Ze.getState().user.accessToken.val));case 3:e=t.sent,Me.info("preload judgements succeeded! dispatching preload judgements...",{response:e}),Ze.dispatch(Ue.preloadJudgements(e));case 6:case"end":return t.stop()}}))},rateJudgementPair:function(e){var t,n;return f.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(Me.info("executing rate judgement pair..."),Ze.dispatch(Ue.rateJudgementPair({relevanceLevel:e})),t=Ze.getState().annotation,n=t.judgementPairs.find((function(e){return e.id===t.currentJudgementPairId})),xe.find((function(e){return e.relevanceLevel===n.relevanceLevel})).annotationRequired&&!(n.annotatedRanges.length>0)){a.next=8;break}return a.next=8,f.a.awrap(Ve.submitCurrentJudgement());case 8:Me.info("rate judgement pair succeeded!");case 9:case"end":return a.stop()}}))},submitCurrentJudgement:function(){var e,t,n,a,r,o,i,c,s,u,l,d;return f.a.async((function(m){for(;;)switch(m.prev=m.next){case 0:for(Me.info("executing submit current judgement..."),e=Ze.getState().annotation,t=e.judgementPairs.find((function(t){return t.id===e.currentJudgementPairId})),n=[],a=!0,r=!1,o=void 0,m.prev=7,i=t.annotatedRanges[Symbol.iterator]();!(a=(c=i.next()).done);a=!0)for(s=c.value,u=s.start;u<=s.end;u++)n.push(u);m.next=15;break;case 11:m.prev=11,m.t0=m.catch(7),r=!0,o=m.t0;case 15:m.prev=15,m.prev=16,a||null==i.return||i.return();case 18:if(m.prev=18,!r){m.next=21;break}throw o;case 21:return m.finish(18);case 22:return m.finish(15);case 23:return l=(new Date).getTime(),d=l-e.currentJudgementPairSelectedOnMs,Ze.dispatch(Ue.setJudgementStatus({id:t.id,status:Te.SEND_PENDING})),m.prev=26,m.next=29,f.a.awrap(re(Ze.getState().user.accessToken.val,t.id,{relevanceLevel:t.relevanceLevel,relevancePositions:n,durationUsedToJudgeMs:d}));case 29:m.next=36;break;case 31:throw m.prev=31,m.t1=m.catch(26),Me.error("submit current judgement failed!",{id:t.id,error:m.t1}),Ze.dispatch(Ue.setJudgementStatus({id:t.id,status:Te.SEND_FAILED})),m.t1;case 36:Ze.dispatch(Ue.setJudgementStatus({id:t.id,status:Te.SEND_SUCCESS})),Me.info("submit current judgement succeeded!");case 38:case"end":return m.stop()}}),null,null,[[7,11,15,23],[16,,18,22],[26,31]])}},ze=X("annotation.subscriptions");function We(e,t){var n=t.memoizeOnValue(e);e.subscribe((function(){var a=t.memoizeOnValue(e);n!==a&&(n=a,t.listener(e))}))}var Ke=X("store-logger-middleware"),He=function(e){return function(t){return function(n){Ke.group(n.type),Ke.info("dispatching",n);var a=t(n);return Ke.info("next state",e.getState()),Ke.groupEnd(),a}}},Ye=n(28),Qe=Object(Ye.combineReducers)({user:Pe,annotation:qe}),Ze=Object(ve.a)({reducer:Qe,middleware:[He].concat(Object(ge.a)(Object(ve.d)()))});[function(e){var t,n=_e.a.duration(1,"minutes"),a=e.getState().user;e.subscribe((function(){var r=e.getState().user;if(r!==a){if(Oe.info("user changed",{previousUser:a,userOfStore:r}),a=r,t&&clearTimeout(t),!a)return Oe.info("no user present, clear scheduled refresh and browser storage"),ye();be({accessToken:a.accessToken.val,refreshToken:a.refreshToken.val,acknowledgedInfoPage:a.acknowledgedInfoPage}),Oe.info("user saved to browser storage");var o=_e.a.unix(a.accessToken.expiry).subtract(n),i=_e.a.duration(o.diff(_e()())).asMilliseconds(),c=a.refreshToken.val;t=setTimeout((function(){return f.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.awrap($e.refresh(c));case 2:case"end":return e.stop()}}))}),i),Oe.info("refresh got scheduled, scheduled at: ".concat(o.toString()))}}))},function(e){e.subscribe((function(){var t=e.getState().annotation,n=e.getState().user;n&&n.accessToken?n.role===pe.ANNOTATOR?void 0===t.remainingToFinish&&(ze.info("no judgement pairs got loaded from the server yet --\x3e execute preload..."),Ve.preloadJudgements()):ze.info("no judgement pairs got loaded from the server yet, but user role is not annotator --\x3e skip preload"):ze.info("no judgement pairs got loaded from the server yet, but there is no access token available --\x3e skip preload")})),We(e,{memoizeOnValue:function(e){return e.getState().annotation.judgementPairs},listener:function(e){var t=e.getState().annotation,n=t.judgementPairs.length,a=t.judgementPairs.filter((function(e){return e.status===Te.TO_JUDGE||e.status===Te.SEND_PENDING})).length,r=t.judgementPairs.filter((function(e){return e.status===Te.SEND_SUCCESS})).length;void 0!==t.remainingToFinish&&(a<=1&&t.remainingToFinish>n||t.remainingToFinish>0&&r===n)&&(ze.info("count of preloaded judgement pairs does not fulfill threshold and there are remaining judgements to preload on the server --\x3e execute preload..."),Ve.preloadJudgements())}}),We(e,{memoizeOnValue:function(e){return e.getState().annotation.judgementPairs},listener:function(e){var t=e.getState().annotation.judgementPairs.find((function(e){return e.status===Te.TO_JUDGE}));e.dispatch(Ue.selectJudgementPair(t))}})}].forEach((function(e){return e(Ze)}));var Xe=X("auth.service"),$e={login:function(e,t){var n;return f.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return Xe.info("executing login...",{username:e}),a.next=3,f.a.awrap(te({username:e,password:t}));case 3:n=a.sent,Xe.info("login succeeded! dispatching authenticate...",{loginResponse:n}),Ze.dispatch(ke.authenticate(n));case 6:case"end":return a.stop()}}))},refresh:function(e){var t;return f.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return Xe.info("executing refresh...",{refreshToken:e}),n.prev=1,n.next=4,f.a.awrap(ne({refreshToken:e}));case 4:t=n.sent,n.next=12;break;case 7:return n.prev=7,n.t0=n.catch(1),Xe.error("refresh failed! dispatching logout...",n.t0),Ze.dispatch(ke.logout()),n.abrupt("return");case 12:Xe.info("refresh succeeded! dispatching authenticate...",{refreshResponse:t}),Ze.dispatch(ke.authenticate(t));case 14:case"end":return n.stop()}}),null,null,[[1,7]])}},et=function(){return!!Object(c.c)((function(e){return e.user}))?r.a.createElement(l.a,{to:"/"}):r.a.createElement("div",{className:g.a.container},r.a.createElement("div",{className:g.a.headline},r.a.createElement("h1",null,"Fira"),r.a.createElement("span",null,"Fine-grained Relevance Annotation")),r.a.createElement("div",{className:g.a.inputArea},r.a.createElement("span",{className:g.a.inputHeadline},"Log in"),r.a.createElement(q,{initialValues:{username:"",password:""},validate:function(e){var t={};return e.username||(t.username="Required"),e.password||(t.password="Required"),t},onSubmit:function(e,t){var n;return f.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.setErrors,a.prev=1,a.next=4,f.a.awrap($e.login(e.username,e.password));case 4:a.next=10;break;case 6:throw a.prev=6,a.t0=a.catch(1),"function"===typeof a.t0.getStatus&&401===a.t0.getStatus()&&n({formError:"Credentials invalid."}),a.t0;case 10:case"end":return a.stop()}}),null,null,[[1,6]])},elements:[{elementType:"input",label:"Username",htmlProps:{name:"username",autoCorrect:"off",autoCapitalize:"off"}},{elementType:"input",label:"Login-Code",htmlProps:{name:"password",autoComplete:"off",autoCorrect:"off",autoCapitalize:"off"}}]})))},tt=n(25),nt=n.n(tt),at=X("admin.service"),rt={exportJudgements:function(){var e;return f.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return at.info("executing export of judgements..."),t.next=3,f.a.awrap(ie(Ze.getState().user.accessToken.val));case 3:ot("judgements.tsv",e=t.sent),at.info("export of judgements succeeded!",{response:e});case 6:case"end":return t.stop()}}))},updateConfig:function(e){return f.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return at.info("executing update of config..."),t.next=3,f.a.awrap(ce(Ze.getState().user.accessToken.val,e));case 3:at.info("update of config succeeded!");case 4:case"end":return t.stop()}}))},getStatistics:function(){var e;return f.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return at.info("executing retrieval of statistics..."),t.next=3,f.a.awrap(se(Ze.getState().user.accessToken.val));case 3:return e=t.sent,at.info("retrieval of statistics succeeded!",{response:e}),t.abrupt("return",e);case 6:case"end":return t.stop()}}))}};function ot(e,t){var n=new Blob([t],{type:"text/tsv"}),a=window.document.createElement("a");a.href=window.URL.createObjectURL(n),a.download=e,document.body.appendChild(a),a.click(),document.body.removeChild(a)}var it=n(74),ct=n(328),st=n(329),ut=n(172),lt=n.n(ut);var dt=function(e){var t=Object(c.b)(),n={},a=function(a){e.hasOwnProperty(a)&&(n[a]=function(){var n;return t((n=e)[a].apply(n,arguments))})};for(var r in e)a(r);return n};function mt(){return{userRole:Object(c.c)((function(e){if(e.user)return e.user.role===pe.ADMIN||e.user.role===pe.ANNOTATOR?e.user.role:void k(e.user.role)})),userAcknowledgedInfoPage:Object(c.c)((function(e){var t;return!!(null===(t=e.user)||void 0===t?void 0:t.acknowledgedInfoPage)}))}}var ft,pt,gt=n(41),vt=n.n(gt),Et=function(){},_t=n(20),ht=n(37),bt=n.n(ht),yt=(ft={},Object(_t.a)(ft,de.MISLEADING_ANSWER,{style:bt.a.misleadingAnswer,text:"Misleading Answer",keyboardKey:"1"}),Object(_t.a)(ft,de.NOT_RELEVANT,{style:bt.a.notRelevant,text:"Not Relevant",keyboardKey:"2"}),Object(_t.a)(ft,de.TOPIC_RELEVANT_DOES_NOT_ANSWER,{style:bt.a.topicRelevantDoesNotAnswer,text:"Topic Relevant, But Does Not Answer",keyboardKey:"3"}),Object(_t.a)(ft,de.GOOD_ANSWER,{style:bt.a.goodAnswer,text:"Good Answer",keyboardKey:"4"}),Object(_t.a)(ft,de.PERFECT_ANSWER,{style:bt.a.perfectAnswer,text:"Perfect Answer",keyboardKey:"5"}),ft),Nt=function(e){var t=e.rateLevel,n=e.onClick;return r.a.createElement("div",{className:bt.a.container},r.a.createElement(S,{className:"".concat(bt.a.button," ").concat(yt[t.relevanceLevel].style),onClick:n},r.a.createElement("div",{className:bt.a.hotkey},yt[t.relevanceLevel].keyboardKey),r.a.createElement("span",null,yt[t.relevanceLevel].text)))},Ot=n(44),Tt=n.n(Ot),xt=function(e){var t=e.text,n=e.isRangeStart,a=e.isInSelectedRange,o=e.showTooltip,i=e.annotationIsAllowedOnPart,c=e.annotationIsAllowedInGeneral,s=e.onPartClick,u=e.onTooltipClick,l=t.replace(" ","\xa0"),d=n?Tt.a.rangeStart:"",m=i?Tt.a.annotationAllowedOnPart:"",f=c?Tt.a.annotationAllowedInGeneral:"",p=function(e){return r.a.createElement("span",{ref:e,onClick:s,className:"".concat(Tt.a.annotatePart," ").concat(d," ").concat(a?Tt.a.isInRange:""," ").concat(m," ").concat(f)},l)};return o?r.a.createElement(it.c,null,r.a.createElement(ct.a,null,(function(e){var t=e.ref;return p(t)})),r.a.createElement(st.a,{placement:"right"},(function(e){var t=e.ref,n=e.style,a=e.placement;return r.a.createElement("div",{ref:t,style:n,"data-placement":a},r.a.createElement(S,{className:Tt.a.annotatePartTooltipButton,onClick:u},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"14",viewBox:"5 3 14 18",fill:"var(--color-destructive)"},r.a.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"})),"Remove"))}))):p()},At=n(175),wt=n.n(At),St=function(){return r.a.createElement("div",{className:wt.a.horizontalLine})},jt=function(e){var t,n=e.currentJudgementPair,o=e.remainingToFinish,i=e.alreadyFinished,c=e.selectRangeStartEnd,s=e.deleteRange,u=Object(a.useState)(void 0),l=Object(_.a)(u,2),d=l[0],m=l[1];function f(e){return function(){return Ve.rateJudgementPair(e)}}t={Digit1:f(de.MISLEADING_ANSWER),Digit2:f(de.NOT_RELEVANT),Digit3:f(de.TOPIC_RELEVANT_DOES_NOT_ANSWER),Digit4:f(de.GOOD_ANSWER),Digit5:f(de.PERFECT_ANSWER)},Object(a.useEffect)((function(){var e=function(e){var n=e.code;t.hasOwnProperty(n)&&t[n]()};return document.addEventListener("keyup",e,{passive:!0}),function(){return document.removeEventListener("keyup",e)}}));var p=xe.find((function(e){return e.relevanceLevel===n.relevanceLevel})),g=i/(o+i)*100,v=!p,E=void 0!==n.currentAnnotationStart,h=n.mode===le.SCORING_AND_SELECT_SPANS,b=h&&!!(null===p||void 0===p?void 0:p.annotationRequired)&&0===n.annotatedRanges.length;function y(){m(void 0)}return r.a.createElement(r.a.Fragment,null,void 0!==g&&r.a.createElement("div",{style:{width:"".concat(g,"%")},className:vt.a.progressBar}),r.a.createElement("div",{className:vt.a.container,onClickCapture:y},r.a.createElement("div",{className:vt.a.actionBar},r.a.createElement("div",{className:vt.a.queryText},n.queryText),r.a.createElement(Yt,null)),r.a.createElement(St,{orientation:"horizontal"}),r.a.createElement("div",{key:n.id,className:vt.a.annotationArea},n.docAnnotationParts.map((function(e,t){var a=n.annotatedRanges.some((function(e){return e.start<=t&&e.end>=t})),o=n.mode===le.SCORING_AND_SELECT_SPANS&&" "!==e&&!a;return r.a.createElement(xt,{key:t,text:e,isRangeStart:n.currentAnnotationStart===t,isInSelectedRange:a,showTooltip:d===t,annotationIsAllowedOnPart:o,annotationIsAllowedInGeneral:h,onPartClick:o?function(){return c({annotationPartIndex:t})}:a?function(){return m(t)}:Et,onTooltipClick:function(){s({annotationPartIndex:t}),y()}})}))),r.a.createElement("div",{className:vt.a.footer},v?xe.map((function(e){return r.a.createElement(Nt,{key:e.relevanceLevel,rateLevel:e,onClick:f(e.relevanceLevel)})})):r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:vt.a.guideText},E?r.a.createElement(r.a.Fragment,null,"Finish your selection"):b?r.a.createElement(r.a.Fragment,null,"Please select the relevant regions of the document."):r.a.createElement(r.a.Fragment,null,"Feel free to add more relevant regions or go to the next judgement pair.")),r.a.createElement(S,{buttonType:"primary",style:{width:"60px",height:"50px"},disabled:E||b,onClick:function(){return Ve.submitCurrentJudgement()}},"Next")))))},Rt=function(){var e=Object(c.c)((function(e){return e.annotation.judgementPairs.filter((function(e){return e.status===Te.SEND_SUCCESS}))}));return{remainingToFinish:Object(c.c)((function(t){return void 0===t.annotation.remainingToFinish?void 0:t.annotation.remainingToFinish-e.length})),alreadyFinished:Object(c.c)((function(t){return void 0===t.annotation.alreadyFinished?void 0:t.annotation.alreadyFinished+e.length})),currentJudgementPair:Object(c.c)((function(e){return e.annotation.judgementPairs.find((function(t){return t.id===e.annotation.currentJudgementPairId}))})),requiredUserAction:Object(c.c)((function(e){return e.annotation.requiredUserAction}))}},kt=function(){var e=Rt(),t=e.remainingToFinish,n=e.alreadyFinished,a=e.currentJudgementPair,o=dt(Ue),i=o.selectRangeStartEnd,c=o.deleteRange;return void 0!==t&&t<=0?r.a.createElement("div",null,"Finished!"):void 0!==t&&a?r.a.createElement(jt,{currentJudgementPair:a,remainingToFinish:t,alreadyFinished:null!==n&&void 0!==n?n:0,selectRangeStartEnd:i,deleteRange:c}):r.a.createElement("div",null,"Loading...")},Pt=n(76),It=n.n(Pt),Ct=X("annotators.service"),Dt=function(){Ct.info("executing acknowledgement of info page..."),Ze.dispatch(ke.acknowledgeInfoPage({acknowledgedInfoPage:!0})),Ct.info("acknowledgement of info page succeeded!")},Lt=function(e){return f.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return Ct.info("executing submission of feedback..."),t.next=3,f.a.awrap(oe(Ze.getState().user.accessToken.val,e));case 3:Ct.info("submission of feedback succeeded!");case 4:case"end":return t.stop()}}))},Ft=n(176),Jt=n.n(Ft),Bt=n(177),Gt=n.n(Bt),Ut=function(){var e=Wt(),t=[{type:"text",content:"Choose a score for the document"},{type:"image",content:Jt.a,alt:"image showing how to choose a score"},{type:"text",content:"Select regions of the document relevant to the query"},{type:"image",content:Gt.a,alt:"image showing how to select regions of the document"}];return r.a.createElement("div",{className:It.a.container},r.a.createElement("span",{className:It.a.headline},"Info - How to annotate"),t.map((function(e,t){return"text"===e.type?r.a.createElement("span",{key:t},e.content):r.a.createElement("img",{key:t,className:It.a.infoImage,src:e.content,alt:e.alt})})),r.a.createElement(S,{onClick:function(){Dt(),e.routeToAnnotatePage()}},"Continue"))},qt=n(103),Mt=n.n(qt),Vt=(pt={},Object(_t.a)(pt,fe.VERY_GOOD,"Very good"),Object(_t.a)(pt,fe.GOOD,"Good"),Object(_t.a)(pt,fe.DECENT,"Decent"),Object(_t.a)(pt,fe.DONT_LIKE_IT,"Don't like it"),pt),zt=function(){function e(e){return f.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.a.awrap(Lt(e));case 2:return t.next=4,f.a.awrap(Ve.preloadJudgements());case 4:case"end":return t.stop()}}))}return r.a.createElement("div",{className:Mt.a.container},r.a.createElement("span",{className:Mt.a.headline},"Feedback"),r.a.createElement("div",null,"How did you like to work with Fira so far?",r.a.createElement("br",null),"We kindly ask you to take a minute to provide some feedback!"),r.a.createElement(q,{initialValues:{feedbackScore:fe.VERY_GOOD,feedbackText:""},onSubmit:function(t){return f.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,f.a.awrap(e({score:t.feedbackScore,text:t.feedbackText}));case 2:case"end":return n.stop()}}))},elements:[{elementType:"select",label:"Rating",childElements:Object.values(fe).map((function(e){return r.a.createElement("option",{key:e,value:e},Vt[e])})),htmlProps:{name:"feedbackScore"}},{elementType:"textarea",htmlProps:{placeholder:"Do you want to add something?",name:"feedbackText",autoComplete:"off"}}]}))};function Wt(){var e=Object(l.g)();return{routeToAnnotatePage:function(){e.push("annotate")},routeToInfoPage:function(){e.push("info")}}}var Kt=function(){var e=Object(l.h)(),t=mt().userAcknowledgedInfoPage,n=Rt().requiredUserAction,a=r.a.createElement(l.a,{to:"".concat(e.path,"/").concat("annotate")});return r.a.createElement(l.d,null,r.a.createElement(l.b,{path:"".concat(e.path,"/").concat("annotate")},t?n===me.SUBMIT_FEEDBACK?r.a.createElement(l.a,{to:"".concat(e.path,"/").concat("feedback")}):r.a.createElement(kt,null):r.a.createElement(l.a,{to:"".concat(e.path,"/").concat("info")})),r.a.createElement(l.b,{path:"".concat(e.path,"/").concat("info")},r.a.createElement(Ut,null)),r.a.createElement(l.b,{path:"".concat(e.path,"/").concat("feedback")},n!==me.SUBMIT_FEEDBACK?a:r.a.createElement(zt,null)),a)},Ht=r.a.forwardRef((function(e,t){var n=e.onClick;return r.a.createElement(S,{ref:t,buttonType:"tertiary",className:lt.a.menuButton,onClick:n},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24"},r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.a.createElement("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"})))})),Yt=function(){var e,t=Object(a.useState)(!1),n=Object(_.a)(t,2),o=n[0],i=n[1];e=function(){return i(!1)},Object(a.useEffect)((function(){var t=function(){return e()};return document.addEventListener("click",t,{passive:!0}),function(){return document.removeEventListener("click",t)}}));var c=dt(ke),s=Wt();function u(){c.logout()}function l(){s.routeToInfoPage()}function d(){i((function(e){return!e}))}function m(e){return r.a.createElement(Ht,{onClick:d,ref:e})}return o?r.a.createElement(it.c,null,r.a.createElement(ct.a,null,(function(e){return m(e.ref)})),r.a.createElement(st.a,{placement:"bottom-end"},(function(e){var t=e.ref,n=e.style,a=e.placement;return r.a.createElement("div",{ref:t,style:n,"data-placement":a},r.a.createElement(S,{onClick:l},"Go to Info Page"),r.a.createElement(S,{onClick:u},"Logout"))}))):m()},Qt=function(){var e=Object(a.useState)(void 0),t=Object(_.a)(e,2),n=t[0],o=t[1];return Object(a.useEffect)((function(){f.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=o,e.next=3,f.a.awrap(rt.getStatistics());case 3:e.t1=e.sent.statistics,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}))}),[o]),r.a.createElement("div",{className:nt.a.container},r.a.createElement("div",{className:nt.a.adminArea},r.a.createElement("div",{className:nt.a.actionBar},r.a.createElement(S,{className:nt.a.button,onClick:rt.exportJudgements},r.a.createElement("span",null,"Export Judgements")),r.a.createElement(Yt,null)),r.a.createElement(St,{orientation:"horizontal"}),r.a.createElement(b.c,{initialValues:{judgementMode:le.SCORING_AND_SELECT_SPANS,rotateDocumentText:"true"},onSubmit:function(e,t){var n;return f.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.setSubmitting,a.prev=1,a.next=4,f.a.awrap(rt.updateConfig(Object(v.a)({},e,{rotateDocumentText:"true"===e.rotateDocumentText})));case 4:n(!0),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(1),n(!1);case 10:case"end":return a.stop()}}),null,null,[[1,7]])}},(function(e){var t=e.isSubmitting;return r.a.createElement(b.b,{className:nt.a.actionBar},r.a.createElement("div",{className:nt.a.options},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"judgementMode"},"Judgement Mode:"),r.a.createElement(b.a,{name:"judgementMode",as:"select"},Object.values(le).map((function(e){return r.a.createElement("option",{key:e,value:e},e)})))),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"rotateDocumentText"},"Rotate Document Text:"),r.a.createElement(b.a,{name:"rotateDocumentText",as:"select"},r.a.createElement("option",{value:"true"},"true"),r.a.createElement("option",{value:"false"},"false")))),r.a.createElement(S,{className:nt.a.button,type:"submit",disabled:t,isLoading:t},"Update Config"))})),r.a.createElement(St,{orientation:"horizontal"}),r.a.createElement("div",{className:nt.a.statisticsContainer},n&&n.map((function(e){return r.a.createElement("div",{key:e.id,className:nt.a.statistic},r.a.createElement("div",{className:nt.a.statisticValue},e.value),r.a.createElement("div",{className:nt.a.statisticLabel},e.label))})))))},Zt=function(e){var t=e.requiredRole,n=Object(h.a)(e,["requiredRole"]),a=Object(c.c)((function(e){return e.user}));return a&&(null===a||void 0===a?void 0:a.role)===t?r.a.createElement(l.b,n):r.a.createElement(l.a,{to:"/"})},Xt=function(){var e=mt().userRole;return e?e===pe.ADMIN?r.a.createElement(l.a,{to:"/admin"}):e===pe.ANNOTATOR?r.a.createElement(l.a,{to:"/annotator"}):void k():r.a.createElement(l.a,{to:"/login"})},$t=function(){return r.a.createElement(d.a,null,r.a.createElement(l.d,null,r.a.createElement(l.b,{exact:!0,path:"/"},r.a.createElement(Xt,null)),r.a.createElement(l.b,{path:"/login"},r.a.createElement(et,null)),r.a.createElement(Zt,{path:"/admin",requiredRole:pe.ADMIN},r.a.createElement(Qt,null)),r.a.createElement(Zt,{path:"/annotator",requiredRole:pe.ANNOTATOR},r.a.createElement(Kt,null)),r.a.createElement(l.a,{to:"/"})))},en=function(){return r.a.createElement("div",{className:u.a.app},r.a.createElement($t,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var tn=X("load-stored-user");var nn=[function(){tn.info("load user from browser storage");var e=Ne();e?(tn.info("stored user found. dispatching authenticate and acknowledge info page...",{storedUser:e}),Ze.dispatch(ke.authenticate(e)),Ze.dispatch(ke.acknowledgeInfoPage({acknowledgedInfoPage:e.acknowledgedInfoPage}))):tn.info("no stored user found")}];X("boot").info("executing boot scripts..."),nn.forEach((function(e){return e()}));i.a.render(r.a.createElement(c.a,{store:Ze},r.a.createElement(en,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},37:function(e,t,n){e.exports={container:"RateButton_container__3gt5W",button:"RateButton_button__376Af",hotkey:"RateButton_hotkey__ze67j",misleadingAnswer:"RateButton_misleadingAnswer__27_t0",notRelevant:"RateButton_notRelevant__3wpKi",topicRelevantDoesNotAnswer:"RateButton_topicRelevantDoesNotAnswer__13C4J",goodAnswer:"RateButton_goodAnswer__2g9Bs",perfectAnswer:"RateButton_perfectAnswer__1XzD9"}},41:function(e,t,n){e.exports={progressBar:"Annotation_progressBar__1jTVR",container:"Annotation_container__235hn",actionBar:"Annotation_actionBar__kQjP7",queryText:"Annotation_queryText__ETBSK",annotationArea:"Annotation_annotationArea__tNPNj",footer:"Annotation_footer__1iEYQ",guideText:"Annotation_guideText__2LwRl"}},44:function(e,t,n){e.exports={annotatePart:"AnnotationPart_annotatePart__3YsjT",rangeStart:"AnnotationPart_rangeStart__1czle",isInRange:"AnnotationPart_isInRange__hFdLD",annotationAllowedOnPart:"AnnotationPart_annotationAllowedOnPart__Be0XQ",annotationAllowedInGeneral:"AnnotationPart_annotationAllowedInGeneral__33pWq",annotatePartTooltipButton:"AnnotationPart_annotatePartTooltipButton__1qKz-"}},49:function(e,t,n){e.exports={button:"Button_button__aUVEj",typePrimary:"Button_typePrimary__3vapG",typeSecondary:"Button_typeSecondary__21OUE",typeTertiary:"Button_typeTertiary__lB476",animate:"Button_animate__P4pSL"}},57:function(e,t,n){e.exports={container:"Login_container__1qZ_N",inputArea:"Login_inputArea__3gas0",headline:"Login_headline__1PqMZ",inputHeadline:"Login_inputHeadline__2vy_z",inputContainer:"Login_inputContainer__3Jpw4",inputDivider:"Login_inputDivider__a50Ku",errorList:"Login_errorList__2PJJj"}},58:function(e,t,n){e.exports={inputContainer:"Form_inputContainer__1oHRC",inputDivider:"Form_inputDivider__36Zo9",errorList:"Form_errorList__1LRve",button:"Form_button__3zRcn"}},75:function(e,t,n){e.exports={ldsEllipsis:"LoadingIndicator_ldsEllipsis__1NuRE",typePrimary:"LoadingIndicator_typePrimary__GpZdE",typeSecondary:"LoadingIndicator_typeSecondary__2jfcd","lds-ellipsis1":"LoadingIndicator_lds-ellipsis1__3Vee3","lds-ellipsis2":"LoadingIndicator_lds-ellipsis2__1xuwq","lds-ellipsis3":"LoadingIndicator_lds-ellipsis3__14o4E"}},76:function(e,t,n){e.exports={container:"AnnotationInfo_container__36eTi",headline:"AnnotationInfo_headline__2sc42",infoImage:"AnnotationInfo_infoImage__3Iuqq"}}},[[182,1,2]]]);
//# sourceMappingURL=main.88f0f910.chunk.js.map