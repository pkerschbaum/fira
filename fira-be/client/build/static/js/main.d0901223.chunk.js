(this["webpackJsonpfira-web"]=this["webpackJsonpfira-web"]||[]).push([[0],{100:function(e,t,n){e.exports={container:"AnnotationInfo_container__36eTi",headline:"AnnotationInfo_headline__2sc42",infoImage:"AnnotationInfo_infoImage__3Iuqq"}},101:function(e,t,n){e.exports={container:"AnnotationEverythingAnnotated_container__2Audg",headline:"AnnotationEverythingAnnotated_headline__3ZQL-"}},126:function(e,t,n){e.exports={container:"Menu_container__1WmIA",menuButton:"Menu_menuButton__2DoUk"}},128:function(e,t,n){e.exports={container:"AnnotationFeedback_container__3lJyj",headline:"AnnotationFeedback_headline__1MCu2",errorList:"AnnotationFeedback_errorList__32-8k"}},198:function(e,t,n){e.exports={app:"App_app__291qZ"}},214:function(e,t,n){e.exports={horizontalLine:"Line_horizontalLine__2MX1a"}},215:function(e,t,n){e.exports=n.p+"static/media/info-page-01.362e062c.png"},216:function(e,t,n){e.exports=n.p+"static/media/info-page-02.7e7f805f.png"},222:function(e,t,n){e.exports=n(379)},23:function(e,t,n){e.exports={container:"Admin_container__33Ln9",adminArea:"Admin_adminArea__32AQI",actionBar:"Admin_actionBar__1sZ-J",actionButtons:"Admin_actionButtons__2_iKY",options:"Admin_options__3JgHD",button:"Admin_button__HYdyi",statisticsContainer:"Admin_statisticsContainer__1sIQ8",statisticValue:"Admin_statisticValue__2yFP8",statisticLabel:"Admin_statisticLabel__1bWck",statistic:"Admin_statistic__2fbh8"}},230:function(e,t,n){},254:function(e,t){},256:function(e,t){},292:function(e,t){},293:function(e,t){},372:function(e,t){},379:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(90),o=n.n(c),i=n(8),l=(n(230),n(198)),u=n.n(l),s=n(50),d=n(74),f=n(2),m=n.n(f),p=n(4),E=n(78),v=n.n(E),g=n(40),h=n(17),_=n(20),b=n(34),y=n(63),O=n.n(y),N=n(64),x=n.n(N),A=n(98),k=n.n(A),T=function(e){var t=e.type,n=void 0===t?"secondary":t;return r.a.createElement("div",{className:"".concat(k.a.ldsEllipsis," ").concat("primary"===n?k.a.typePrimary:k.a.typeSecondary)},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))},w=r.a.forwardRef((function(e,t){var n=e.children,c=e.buttonType,o=void 0===c?"secondary":c,i=e.isLoading,l=Object(_.a)(e,["children","buttonType","isLoading"]),u=Object(a.useState)(!1),s=Object(h.a)(u,2),d=s[0],f=s[1];return r.a.createElement("button",Object.assign({},l,{onClick:function(e){"function"===typeof l.onClick&&l.onClick(e),f(!0)},onTransitionEnd:function(e){"function"===typeof l.onTransitionEnd&&l.onTransitionEnd(e),f(!1)},ref:t,className:"".concat(l.className," ").concat(x.a.button," ").concat(d&&x.a.animate," ").concat("primary"===o?x.a.typePrimary:"secondary"===o?x.a.typeSecondary:x.a.typeTertiary)}),i?r.a.createElement("div",null,r.a.createElement(T,{type:"tertiary"===o?"secondary":o})):"string"===typeof n?r.a.createElement("span",null,n):n)})),j=n(38),C=n.n(j);function S(e){throw new Error("Should not get here")}var P=function(e){var t=e.children,n=Object(_.a)(e,["children"]);return r.a.createElement("div",Object.assign({},n,{className:"".concat(n.className," ").concat(C.a.labelInput)}),t)},R=function(e){var t=e.isError,n=e.children,a=Object(_.a)(e,["isError","children"]);return r.a.createElement("div",Object.assign({},a,{className:"".concat(a.className," ").concat(t&&C.a.inputContainerError," ").concat(C.a.inputContainer)}),n)},F=function(e){var t=e.active,n=e.children,a=Object(_.a)(e,["active","children"]);return r.a.createElement("label",Object.assign({},a,{className:"".concat(a.className," ").concat(!!t&&C.a.labelActive," ").concat(C.a.label)}),n)},I=function(e){var t=e.children,n=e.active,a=e.inputRef,c=Object(_.a)(e,["children","active","inputRef"]);return r.a.createElement("input",Object.assign({},c,{ref:a,className:"".concat(c.className," ").concat(!!n&&C.a.inputActive," ").concat(C.a.input)}),t)},D=function(e){var t=e.children,n=e.textareaRef,a=Object(_.a)(e,["children","textareaRef"]);return r.a.createElement("textarea",Object.assign({},a,{ref:n,className:"".concat(a.className," ").concat(C.a.textarea)}),t)},L=function(e){var t=e.children,n=Object(_.a)(e,["children"]);return r.a.createElement("select",Object.assign({},n,{className:"".concat(n.className," ").concat(C.a.select)}),t)},G=function(e){var t=e.id,n=e.label,c=e.type,o=e.className,i=e.isError,l=e.value,u=e.childType,s=Object(_.a)(e,["id","label","type","className","isError","value","childType"]),d=Object(a.useState)("input"!==u||!!l&&l.length>0),f=Object(h.a)(d,2),m=f[0],p=f[1],E=Object(a.useRef)(null),v=Object(a.useRef)(null);function g(e){p(!0),s.onFocus&&s.onFocus(e)}function b(e){e.target.value&&0!==e.target.value.length||p(!1),s.onBlur&&s.onBlur(e)}return r.a.createElement(P,null,r.a.createElement(R,{onClick:function(){"input"===u?E.current.focus():"textarea"===u&&v.current.focus()},isError:i,className:o},n&&r.a.createElement(F,{htmlFor:t,active:m},n),"input"===u?r.a.createElement(I,Object.assign({},s,{active:m,id:t,onBlur:b,onFocus:g,inputRef:E,type:c})):"select"===u?r.a.createElement(L,s,s.children):"textarea"===u?r.a.createElement(D,Object.assign({},s,{id:t,onBlur:b,onFocus:g,textareaRef:v,onInput:function(){v.current.style.height="auto",v.current.style.height=v.current.scrollHeight+"px"}})):S()))},M=function(e){var t=e.label,n=Object(_.a)(e,["label"]),a=Object(b.d)(n),c=Object(h.a)(a,2),o=c[0],i=c[1],l=!(!i.touched||!i.error);return r.a.createElement("div",null,r.a.createElement(G,Object.assign({childType:"input",isError:l,htmlFor:n.id||n.name,label:t},o,n)))},B=function(e){var t=Object.assign({},e),n=Object(b.d)(t),a=Object(h.a)(n,1)[0];return r.a.createElement("div",null,r.a.createElement(G,Object.assign({childType:"textarea",htmlFor:t.id||t.name},a,t)))},J=function(e){var t=e.label,n=Object(_.a)(e,["label"]),a=Object(b.d)(n),c=Object(h.a)(a,1)[0];return r.a.createElement("div",null,r.a.createElement(G,Object.assign({childType:"select",htmlFor:n.id||n.name,label:t},c,n)))},z=function(e){var t=e.initialValues,n=e.validate,a=e.onSubmit,c=e.elements;return r.a.createElement(b.c,{initialValues:Object(g.a)({},t,{formError:""}),validate:n,onSubmit:function(){var e=Object(p.a)(m.a.mark((function e(t,n){var r,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.setSubmitting,c=n.setErrors,e.prev=1,e.next=4,a(t,{setSubmitting:r,setErrors:c});case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!("string"===typeof e.t0.message&&/Network Error/i.test(e.t0.message)||"ECONNABORTED"===e.t0.code)){e.next=12;break}c({formError:"Network error. Please make sure to be online."}),e.next=14;break;case 12:throw c({formError:"Unexpected error occured."}),e.t0;case 14:return e.prev=14,r(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,6,14,17]])})));return function(t,n){return e.apply(this,arguments)}}()},(function(e){var t=e.isSubmitting,n=e.errors;return r.a.createElement(b.b,{className:O.a.form},r.a.createElement("div",{className:O.a.inputContainer},c.map((function(e,t){var n="input"===e.elementType?r.a.createElement(M,Object.assign({label:e.label},e.htmlProps)):"select"===e.elementType?r.a.createElement(J,Object.assign({label:e.label},e.htmlProps),e.childElements):"textarea"===e.elementType?r.a.createElement(B,e.htmlProps):S(),a=t===c.length-1;return r.a.createElement(r.a.Fragment,{key:t},n,a?null:r.a.createElement("div",{className:O.a.inputDivider}))}))),n.formError&&n.formError.length&&n.formError.length>0&&r.a.createElement("ul",{className:O.a.errorList},r.a.createElement("li",null,r.a.createElement("span",null,n.formError))),r.a.createElement(w,{className:O.a.button,buttonType:"primary",type:"submit",disabled:t,isLoading:t},"Continue"))}))},U=n(201),V=n.n(U),q=n(202),W=n(203),H=n(218),K=n(204),Y=n(219),Q=function(e){Object(K.a)(n,e);var t=Object(H.a)(n);function n(e,a){var r;return Object(q.a)(this,n),(r=t.call(this)).errorText=void 0,r.status=void 0,r.errorText=e,r.status=a,r.message=e,r}return Object(W.a)(n,[{key:"getResponse",value:function(){return this.errorText}},{key:"getStatus",value:function(){return this.status}},{key:"toString",value:function(){return"HttpException: status=".concat(this.status,", errorText='").concat(this.errorText,"'")}}]),n}(Object(Y.a)(Error)),Z=function(e){var t=function(t){return function(n){for(var a=arguments.length,r=new Array(a>1?a-1:0),c=1;c<a;c++)r[c-1]=arguments[c];return t.apply(void 0,["[".concat(e,"] ").concat(n)].concat(r))}};return{debug:t(console.debug),info:t(console.info),error:t(console.error),dir:t(console.dir),group:console.group,groupEnd:console.groupEnd}},X=V.a.create({baseURL:"".concat("/fira-trec","/api"),timeout:5e3}),$=Z("http.client"),ee={login:function(){var e=Object(p.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $.info("executing login...",{username:t.username}),e.prev=1,e.next=4,X.post("auth/v1/login",t);case 4:return e.abrupt("return",e.sent.data);case 7:if(e.prev=7,e.t0=e.catch(1),$.error("login failed!",e.t0),401!==(null===(n=e.t0.response)||void 0===n?void 0:n.status)){e.next=12;break}throw new Q("credentials invalid",401);case 12:throw e.t0;case 13:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),refresh:function(){var e=Object(p.a)(m.a.mark((function e(t){var n,a,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:$.info("executing refresh...",{refreshRequest:t}),n=1;case 2:if(!(n<=5)){e.next=21;break}return e.prev=3,e.next=6,X.post("auth/v1/refresh",t);case 6:return e.abrupt("return",e.sent.data);case 9:if(e.prev=9,e.t0=e.catch(3),$.info("refresh failed for attempt=".concat(n),{error:e.t0}),a=e.t0,n++,!(null===(r=e.t0.response)||void 0===r?void 0:r.status)){e.next=16;break}return e.abrupt("break",21);case 16:if(!(n<=5)){e.next=19;break}return e.next=19,te(3e3);case 19:e.next=2;break;case 21:throw $.error("refresh failed!",a),a;case 23:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(t){return e.apply(this,arguments)}}(),importUsers:function(){var e=Object(p.a)(m.a.mark((function e(t,n){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $.info("executing import users...",{importUsersRequest:n}),e.prev=1,e.next=4,X.post("admin/v1/import/users",n,{headers:{authorization:"Bearer ".concat(t)}});case 4:return e.abrupt("return",e.sent.data);case 7:throw e.prev=7,e.t0=e.catch(1),$.error("import users failed!",e.t0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,n){return e.apply(this,arguments)}}(),importDocuments:function(){var e=Object(p.a)(m.a.mark((function e(t,n){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $.info("executing import documents...",{importDocumentsRequest:n}),e.prev=1,e.next=4,X.put("admin/v1/import/documents",n,{headers:{authorization:"Bearer ".concat(t)}});case 4:return e.abrupt("return",e.sent.data);case 7:throw e.prev=7,e.t0=e.catch(1),$.error("import documents failed!",e.t0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,n){return e.apply(this,arguments)}}(),importQueries:function(){var e=Object(p.a)(m.a.mark((function e(t,n){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $.info("executing import queries...",{importQueriesRequest:n}),e.prev=1,e.next=4,X.put("admin/v1/import/queries",n,{headers:{authorization:"Bearer ".concat(t)}});case 4:return e.abrupt("return",e.sent.data);case 7:throw e.prev=7,e.t0=e.catch(1),$.error("import queries failed!",e.t0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,n){return e.apply(this,arguments)}}(),importJudgementPairs:function(){var e=Object(p.a)(m.a.mark((function e(t,n){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $.info("executing import judgement pairs...",{importJudgPairsRequest:n}),e.prev=1,e.next=4,X.put("admin/v1/import/judgement-pairs",n,{headers:{authorization:"Bearer ".concat(t)}});case 4:return e.abrupt("return",e.sent.data);case 7:throw e.prev=7,e.t0=e.catch(1),$.error("import judgement pairs failed!",e.t0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,n){return e.apply(this,arguments)}}(),preloadJudgements:function(){var e=Object(p.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $.info("executing preload judgements..."),e.prev=1,e.next=4,X.post("judgements/v1/preload",null,{headers:{authorization:"Bearer ".concat(t)}});case 4:return e.abrupt("return",e.sent.data);case 7:throw e.prev=7,e.t0=e.catch(1),$.error("preload judgements failed!",e.t0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),submitJudgement:function(){var e=Object(p.a)(m.a.mark((function e(t,n,a){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $.info("executing submit judgement...",{submitJudgementRequest:a}),e.prev=1,e.next=4,X.put("judgements/v1/".concat(n),a,{headers:{authorization:"Bearer ".concat(t)}});case 4:return e.abrupt("return",e.sent.data);case 7:throw e.prev=7,e.t0=e.catch(1),$.error("submit judgement failed!",e.t0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,n,a){return e.apply(this,arguments)}}(),submitFeedback:function(){var e=Object(p.a)(m.a.mark((function e(t,n){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $.info("executing submit feedback...",{submitFeedbackRequest:n}),e.prev=1,e.next=4,X.post("feedback/v1",n,{headers:{authorization:"Bearer ".concat(t)}});case 4:return e.abrupt("return",e.sent.data);case 7:throw e.prev=7,e.t0=e.catch(1),$.error("submit feedback failed!",e.t0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,n){return e.apply(this,arguments)}}(),exportJudgements:function(){var e=Object(p.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $.info("executing export of judgements..."),e.prev=1,e.next=4,X.get("admin/v1/judgements/export/tsv",{headers:{authorization:"Bearer ".concat(t)}});case 4:return e.abrupt("return",e.sent.data);case 7:throw e.prev=7,e.t0=e.catch(1),$.error("export of judgements failed!",e.t0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),exportFeedback:function(){var e=Object(p.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $.info("executing export of feedback..."),e.prev=1,e.next=4,X.get("admin/v1/feedback/export/tsv",{headers:{authorization:"Bearer ".concat(t)}});case 4:return e.abrupt("return",e.sent.data);case 7:throw e.prev=7,e.t0=e.catch(1),$.error("export of feedback failed!",e.t0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),updateConfig:function(){var e=Object(p.a)(m.a.mark((function e(t,n){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $.info("executing update of config...",{updateConfigRequest:n}),e.prev=1,e.next=4,X.put("admin/v1/config",n,{headers:{authorization:"Bearer ".concat(t)}});case 4:return e.abrupt("return",e.sent.data);case 7:throw e.prev=7,e.t0=e.catch(1),$.error("update of config failed!",e.t0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,n){return e.apply(this,arguments)}}(),getStatistics:function(){var e=Object(p.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $.info("executing retrieval of statistics..."),e.prev=1,e.next=4,X.get("admin/v1/statistics",{headers:{authorization:"Bearer ".concat(t)}});case 4:return e.abrupt("return",e.sent.data);case 7:throw e.prev=7,e.t0=e.catch(1),$.error("retrieval of statistics failed!",e.t0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()};function te(e){return new Promise((function(t){return setTimeout(t,e)}))}var ne,ae,re,ce,oe=n(217),ie=n(18),le=n(79),ue=n.n(le),se=Z("browser-storage"),de=function(e){se.info("saveUser called",{user:e}),localStorage.setItem("user",JSON.stringify(e))},fe=function(){se.info("clearUser called"),localStorage.removeItem("user")},me=function(){se.info("getUser called");var e=localStorage.getItem("user");return e?(se.info("user found",{currentlyStoredUser:e}),JSON.parse(e)):(se.info("no user found"),null)},pe=Z("user.subscriptions"),Ee=n(205);!function(e){e.PLAIN_RELEVANCE_SCORING="PLAIN_RELEVANCE_SCORING",e.SCORING_AND_SELECT_SPANS="SCORING_AND_SELECT_SPANS"}(ne||(ne={})),function(e){e.NOT_RELEVANT="0_NOT_RELEVANT",e.TOPIC_RELEVANT_DOES_NOT_ANSWER="1_TOPIC_RELEVANT_DOES_NOT_ANSWER",e.GOOD_ANSWER="2_GOOD_ANSWER",e.PERFECT_ANSWER="3_PERFECT_ANSWER",e.MISLEADING_ANSWER="-1_MISLEADING_ANSWER"}(ae||(ae={})),function(e){e.VERY_GOOD="VERY_GOOD",e.GOOD="GOOD",e.DECENT="DECENT",e.DONT_LIKE_IT="DONT_LIKE_IT"}(re||(re={})),function(e){e.ANNOTATOR="ANNOTATOR",e.ADMIN="ADMIN"}(ce||(ce={}));var ve,ge=[{relevanceLevel:ae.NOT_RELEVANT,annotationRequired:!1},{relevanceLevel:ae.MISLEADING_ANSWER,annotationRequired:!0},{relevanceLevel:ae.TOPIC_RELEVANT_DOES_NOT_ANSWER,annotationRequired:!1},{relevanceLevel:ae.GOOD_ANSWER,annotationRequired:!0},{relevanceLevel:ae.PERFECT_ANSWER,annotationRequired:!0}],he=n(124),_e=Object(ie.b)("AUTHENTICATED"),be=Object(ie.b)("ACKNOWLEDGED_PAGE"),ye=Object(ie.b)("LOGGED_OUT"),Oe=Object(ie.c)(null,(function(e){return e.addCase(_e,(function(e,t){var n,a,r,c,o,i=he.decode(t.payload.accessToken),l=he.decode(t.payload.refreshToken),u=!!(null===(n=i.resource_access)||void 0===n||null===(a=n["realm-management"])||void 0===a||null===(r=a.roles)||void 0===r?void 0:r.some((function(e){return"manage-users"===e}))),s=null!==(c=null===e||void 0===e?void 0:e.acknowledgedInfoPage)&&void 0!==c&&c,d=null!==(o=null===e||void 0===e?void 0:e.acknowledgedFinishedPage)&&void 0!==o&&o;return Object(g.a)({},e,{accessToken:{val:t.payload.accessToken,expiry:i.exp},refreshToken:{val:t.payload.refreshToken,expiry:l.exp},acknowledgedInfoPage:s,acknowledgedFinishedPage:d,role:u?ce.ADMIN:ce.ANNOTATOR})})).addCase(be,(function(e,t){"INFO"===t.payload.page?e.acknowledgedInfoPage=!0:"FINISHED"===t.payload.page?e.acknowledgedFinishedPage=!0:S(t.payload.page)})).addCase(ye,(function(){return null}))})),Ne={authenticate:_e,acknowledgePage:be,logout:ye},xe=Oe;!function(e){e.TO_JUDGE="TO_JUDGE",e.SEND_PENDING="SEND_PENDING",e.SEND_SUCCESS="SEND_SUCCESS",e.SEND_FAILED="SEND_FAILED"}(ve||(ve={}));var Ae={judgementPairs:[]},ke=Object(ie.b)("JUDGEMENTS_PRELOADED"),Te=Object(ie.b)("JUDGEMENT_PAIR_RATED"),we=Object(ie.b)("RANGE_STARTOREND_SELECTED"),je=Object(ie.b)("RANGE_DELETED"),Ce=Object(ie.b)("JUDGEMENT_STATUS_SET"),Se=Object(ie.b)("JUDGEMENT_PAIR_SELECTED"),Pe=Object(ie.c)(Ae,(function(e){return e.addCase(ke,(function(e,t){e.alreadyFinished=t.payload.alreadyFinished,e.remainingToFinish=t.payload.remainingToFinish,e.remainingUntilFirstFeedbackRequired=t.payload.remainingUntilFirstFeedbackRequired,e.countOfFeedbacks=t.payload.countOfFeedbacks,e.countOfNotPreloadedPairs=t.payload.countOfNotPreloadedPairs;var n=t.payload.judgements;e.judgementPairs=n.map((function(t){var n,a,r=e.judgementPairs.find((function(e){return e.id===t.id}));return r&&(a=t,(n=r).queryText===a.queryText&&n.docAnnotationParts.length===a.docAnnotationParts.length&&!n.docAnnotationParts.some((function(e,t){return a.docAnnotationParts[t]!==e})))?Object(g.a)({},t,{},r):Object(g.a)({},t,{annotatedRanges:[],status:ve.TO_JUDGE})}))})).addCase(Te,(function(e,t){var n=e.judgementPairs.find((function(t){return t.id===e.currentJudgementPairId}));n.relevanceLevel=t.payload.relevanceLevel,ge.find((function(e){return e.relevanceLevel===n.relevanceLevel})).annotationRequired||(n.annotatedRanges=[],n.currentAnnotationStart=void 0)})).addCase(we,(function(e,t){var n=e.judgementPairs.find((function(t){return t.id===e.currentJudgementPairId}));if(void 0===n.currentAnnotationStart){var a=t.payload.annotationPartIndex;" "===n.docAnnotationParts[a]&&a++,n.currentAnnotationStart=a}else{var r=t.payload.annotationPartIndex;" "===n.docAnnotationParts[r]&&r--;var c=n.currentAnnotationStart,o=c<r?c:r,i=r>c?r:c;n.annotatedRanges=n.annotatedRanges.filter((function(e){return!(e.start>=o&&e.end<=i)})),n.annotatedRanges.push({start:o,end:i}),n.currentAnnotationStart=void 0}})).addCase(je,(function(e,t){var n=e.judgementPairs.find((function(t){return t.id===e.currentJudgementPairId}));n.annotatedRanges=n.annotatedRanges.filter((function(e){return!(t.payload.annotationPartIndex>=e.start&&t.payload.annotationPartIndex<=e.end)}))})).addCase(Ce,(function(e,t){e.judgementPairs.find((function(e){return e.id===t.payload.id})).status=t.payload.status})).addCase(Se,(function(e,t){var n,a;e.currentJudgementPairId!==(null===(n=t.payload)||void 0===n?void 0:n.id)&&(e.currentJudgementPairId=null===(a=t.payload)||void 0===a?void 0:a.id,e.currentJudgementPairSelectedOnMs=(new Date).getTime())})).addCase(Ne.logout,(function(){return Ae}))}));var Re={preloadJudgements:ke,rateJudgementPair:Te,selectRangeStartEnd:we,deleteRange:je,setJudgementStatus:Ce,selectJudgementPair:Se},Fe=Pe,Ie=Z("judgements.service"),De={preloadJudgements:function(){var e=Object(p.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ie.info("executing preload judgements..."),e.next=3,ee.preloadJudgements(We.getState().user.accessToken.val);case 3:t=e.sent,Ie.info("preload judgements succeeded! dispatching preload judgements...",{response:t}),We.dispatch(Re.preloadJudgements(t));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),rateJudgementPair:function(){var e=Object(p.a)(m.a.mark((function e(t){var n,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ie.info("executing rate judgement pair..."),We.dispatch(Re.rateJudgementPair({relevanceLevel:t})),n=We.getState().annotation,a=n.judgementPairs.find((function(e){return e.id===n.currentJudgementPairId})),ge.find((function(e){return e.relevanceLevel===a.relevanceLevel})).annotationRequired&&!(a.annotatedRanges.length>0)){e.next=8;break}return e.next=8,De.submitCurrentJudgement();case 8:Ie.info("rate judgement pair succeeded!");case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),submitCurrentJudgement:function(){var e=Object(p.a)(m.a.mark((function e(){var t,n,a,r,c,o,i,l,u;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ie.info("executing submit current judgement..."),t=We.getState().annotation,n=t.judgementPairs.find((function(e){return e.id===t.currentJudgementPairId})),a=[],r=Object(Ee.a)(n.annotatedRanges);try{for(r.s();!(c=r.n()).done;)for(o=c.value,i=o.start;i<=o.end;i++)a.push(i)}catch(s){r.e(s)}finally{r.f()}return l=(new Date).getTime(),u=l-t.currentJudgementPairSelectedOnMs,We.dispatch(Re.setJudgementStatus({id:n.id,status:ve.SEND_PENDING})),e.prev=9,e.next=12,ee.submitJudgement(We.getState().user.accessToken.val,n.id,{relevanceLevel:n.relevanceLevel,relevancePositions:a,durationUsedToJudgeMs:u});case 12:e.next=19;break;case 14:throw e.prev=14,e.t0=e.catch(9),Ie.error("submit current judgement failed!",{id:n.id,error:e.t0}),We.dispatch(Re.setJudgementStatus({id:n.id,status:ve.SEND_FAILED})),e.t0;case 19:We.dispatch(Re.setJudgementStatus({id:n.id,status:ve.SEND_SUCCESS})),Ie.info("submit current judgement succeeded!");case 21:case"end":return e.stop()}}),e,null,[[9,14]])})));return function(){return e.apply(this,arguments)}}()},Le=function(e){var t=Object(i.b)(),n={},a=function(a){e.hasOwnProperty(a)&&(n[a]=function(){var n;return t((n=e)[a].apply(n,arguments))})};for(var r in e)a(r);return n},Ge=function(e){return void 0!==e.annotation.remainingToFinish},Me=function(){var e=Object(i.c)((function(e){return e.annotation.judgementPairs.filter((function(e){return e.status===ve.SEND_SUCCESS}))})),t=Object(i.c)((function(e){return e.annotation.judgementPairs.filter((function(e){return e.status===ve.SEND_PENDING}))})),n=Object(i.c)((function(e){return e.annotation.judgementPairs.filter((function(e){return e.status===ve.TO_JUDGE}))})),a=Object(i.c)((function(e){return e.annotation.judgementPairs.find((function(t){return t.id===e.annotation.currentJudgementPairId}))})),r=e.concat(t),c=Object(i.c)(Ge),o=Object(i.c)((function(e){return c?e.annotation.remainingToFinish-r.length:void 0})),l=Object(i.c)((function(e){return c?e.annotation.remainingUntilFirstFeedbackRequired-r.length:void 0})),u=Object(i.c)((function(e){return e.annotation.countOfFeedbacks})),s=Object(i.c)((function(e){return e.annotation.countOfNotPreloadedPairs})),d=Object(i.c)((function(e){return c?e.annotation.alreadyFinished+r.length:void 0}));return{annotationDataReceivedFromServer:c,remainingToFinish:o,remainingUntilFirstFeedbackRequired:l,countOfFeedbacks:u,countOfNotPreloadedPairs:s,pairsToJudge:n,alreadyFinished:d,currentJudgementPair:a}},Be=Z("annotation.subscriptions");function Je(e,t){var n=t.memoizeOnValue(e);e.subscribe((function(){var a=t.memoizeOnValue(e);n!==a&&(n=a,t.listener(e))}))}var ze=Z("store-logger-middleware"),Ue=function(e){return function(t){return function(n){ze.group(n.type),ze.info("dispatching",n);var a=t(n);return ze.info("next state",e.getState()),ze.groupEnd(),a}}},Ve=n(33),qe=Object(Ve.c)({user:xe,annotation:Fe}),We=Object(ie.a)({reducer:qe,middleware:[Ue].concat(Object(oe.a)(Object(ie.d)()))});[function(e){var t,n=ue.a.duration(1,"minutes"),a=e.getState().user;e.subscribe((function(){var r=e.getState().user;if(r!==a){if(pe.info("user changed",{previousUser:a,userOfStore:r}),a=r,t&&clearTimeout(t),!a)return pe.info("no user present, clear scheduled refresh and browser storage"),fe();de({accessToken:a.accessToken.val,refreshToken:a.refreshToken.val,acknowledgedInfoPage:a.acknowledgedInfoPage}),pe.info("user saved to browser storage");var c=ue.a.unix(a.accessToken.expiry).subtract(n),o=ue.a.duration(c.diff(ue()())).asMilliseconds(),i=a.refreshToken.val;t=setTimeout(Object(p.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ke.refresh(i);case 2:case"end":return e.stop()}}),e)}))),o),pe.info("refresh got scheduled, scheduled at: ".concat(c.toString()))}}))},function(e){e.subscribe((function(){var t=e.getState().user;t&&t.accessToken?t.role===ce.ANNOTATOR?Ge(e.getState())||(Be.info("no judgement pairs got loaded from the server yet --\x3e execute preload..."),De.preloadJudgements()):Be.info("no judgement pairs got loaded from the server yet, but user role is not annotator --\x3e skip preload"):Be.info("no judgement pairs got loaded from the server yet, but there is no access token available --\x3e skip preload")})),Je(e,{memoizeOnValue:function(e){return e.getState().annotation.judgementPairs},listener:function(e){var t=e.getState().annotation;if(Ge(e.getState())){var n=t.judgementPairs.filter((function(e){return e.status===ve.TO_JUDGE||e.status===ve.SEND_PENDING})).length,a=t.countOfNotPreloadedPairs;n<=1&&a>0&&(Be.info("count of preloaded judgement pairs does not fulfill threshold and there are remaining judgements to preload on the server --\x3e execute preload..."),De.preloadJudgements())}}}),Je(e,{memoizeOnValue:function(e){return e.getState().annotation.judgementPairs},listener:function(e){var t=e.getState().annotation.judgementPairs.find((function(e){return e.status===ve.TO_JUDGE}));e.dispatch(Re.selectJudgementPair(t))}})}].forEach((function(e){return e(We)}));var He=Z("auth.service"),Ke={login:function(){var e=Object(p.a)(m.a.mark((function e(t,n){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return He.info("executing login...",{username:t}),e.next=3,ee.login({username:t,password:n});case 3:a=e.sent,He.info("login succeeded! dispatching authenticate...",{loginResponse:a}),We.dispatch(Ne.authenticate(a));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),refresh:function(){var e=Object(p.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return He.info("executing refresh...",{refreshToken:t}),e.prev=1,e.next=4,ee.refresh({refreshToken:t});case 4:n=e.sent,e.next=12;break;case 7:return e.prev=7,e.t0=e.catch(1),He.error("refresh failed! dispatching logout...",e.t0),We.dispatch(Ne.logout()),e.abrupt("return");case 12:He.info("refresh succeeded! dispatching authenticate...",{refreshResponse:n}),We.dispatch(Ne.authenticate(n));case 14:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},Ye=function(){return!!Object(i.c)((function(e){return e.user}))?r.a.createElement(s.a,{to:"/"}):r.a.createElement("div",{className:v.a.container},r.a.createElement("div",{className:v.a.headline},r.a.createElement("h1",null,"Fira"),r.a.createElement("span",null,"Fine-grained Relevance Annotation")),r.a.createElement("div",{className:v.a.inputArea},r.a.createElement("span",{className:v.a.inputHeadline},"Log in"),r.a.createElement(z,{initialValues:{username:"",password:""},validate:function(e){var t={};return e.username||(t.username="Required"),e.password||(t.password="Required"),t},onSubmit:function(){var e=Object(p.a)(m.a.mark((function e(t,n){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.setErrors,e.prev=1,e.next=4,Ke.login(t.username,t.password);case 4:e.next=13;break;case 6:if(e.prev=6,e.t0=e.catch(1),"function"!==typeof e.t0.getStatus||401!==e.t0.getStatus()){e.next=12;break}a({formError:"Credentials invalid."}),e.next=13;break;case 12:throw e.t0;case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}(),elements:[{elementType:"input",label:"Username",htmlProps:{name:"username",autoCorrect:"off",autoCapitalize:"off"}},{elementType:"input",label:"Login-Code",htmlProps:{name:"password",autoComplete:"off",autoCorrect:"off",autoCapitalize:"off"}}]})))},Qe=n(23),Ze=n.n(Qe),Xe=Z("admin.service"),$e={exportJudgements:function(){var e=Object(p.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Xe.info("executing export of judgements..."),e.next=3,ee.exportJudgements(We.getState().user.accessToken.val);case 3:et("judgements.tsv",t=e.sent),Xe.info("export of judgements succeeded!",{response:t});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),exportFeedback:function(){var e=Object(p.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Xe.info("executing export of feedback..."),e.next=3,ee.exportFeedback(We.getState().user.accessToken.val);case 3:et("feedback.tsv",t=e.sent),Xe.info("export of feedback succeeded!",{response:t});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),updateConfig:function(){var e=Object(p.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Xe.info("executing update of config..."),e.next=3,ee.updateConfig(We.getState().user.accessToken.val,t);case 3:Xe.info("update of config succeeded!");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getStatistics:function(){var e=Object(p.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Xe.info("executing retrieval of statistics..."),e.next=3,ee.getStatistics(We.getState().user.accessToken.val);case 3:return t=e.sent,Xe.info("retrieval of statistics succeeded!",{response:t}),e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()};function et(e,t){var n=new Blob([t],{type:"text/tsv"}),a=window.document.createElement("a");a.href=window.URL.createObjectURL(n),a.download=e,document.body.appendChild(a),a.click(),document.body.removeChild(a)}var tt=n(95),nt=n(382),at=n(383),rt=n(126),ct=n.n(rt);function ot(){return{userRole:Object(i.c)((function(e){if(e.user)return e.user.role===ce.ADMIN||e.user.role===ce.ANNOTATOR?e.user.role:void S(e.user.role)})),userAcknowledgedInfoPage:Object(i.c)((function(e){var t;return!!(null===(t=e.user)||void 0===t?void 0:t.acknowledgedInfoPage)})),userAcknowledgedFinishedPage:Object(i.c)((function(e){var t;return!!(null===(t=e.user)||void 0===t?void 0:t.acknowledgedFinishedPage)}))}}var it,lt,ut=n(39),st=n.n(ut),dt=function(){},ft=n(27),mt=n(47),pt=n.n(mt),Et=(it={},Object(ft.a)(it,ae.NOT_RELEVANT,{style:pt.a.notRelevant,text:"Wrong",keyboardKey:"1"}),Object(ft.a)(it,ae.MISLEADING_ANSWER,{style:pt.a.misleadingAnswer,text:"Misleading",keyboardKey:"2"}),Object(ft.a)(it,ae.TOPIC_RELEVANT_DOES_NOT_ANSWER,{style:pt.a.topicRelevantDoesNotAnswer,text:"Ok",keyboardKey:"3"}),Object(ft.a)(it,ae.GOOD_ANSWER,{style:pt.a.goodAnswer,text:"Good",keyboardKey:"4"}),Object(ft.a)(it,ae.PERFECT_ANSWER,{style:pt.a.perfectAnswer,text:"Perfect",keyboardKey:"5"}),it),vt=function(e){var t=e.rateLevel,n=e.onClick;return r.a.createElement("div",{className:pt.a.container},r.a.createElement(w,{className:"".concat(pt.a.button," ").concat(Et[t.relevanceLevel].style),onClick:n},r.a.createElement("div",{className:pt.a.hotkey},Et[t.relevanceLevel].keyboardKey),r.a.createElement("span",null,Et[t.relevanceLevel].text)))},gt=n(51),ht=n.n(gt),_t=function(e){var t=e.idx,n=e.text,a=e.isRangeStart,c=void 0!==a&&a,o=e.isInSelectedRange,i=e.showTooltip,l=void 0!==i&&i,u=e.annotationIsAllowedOnPart,s=void 0!==u&&u,d=e.annotationIsAllowedInGeneral,f=e.onPartClick,m=e.onTooltipClick,p=c?ht.a.rangeStart:"",E=s?ht.a.annotationAllowedOnPart:"",v=d?ht.a.annotationAllowedInGeneral:"",g=" "===n?ht.a.whitespace:"",h=function(e){return r.a.createElement("span",{ref:e,"data-idx":t,onClick:f,className:"".concat(ht.a.annotatePart," ").concat(p," ").concat(o?ht.a.isInRange:""," ").concat(E," ").concat(v," ").concat(g)},n)};return l?r.a.createElement(tt.c,null,r.a.createElement(nt.a,null,(function(e){var t=e.ref;return h(t)})),r.a.createElement(at.a,{placement:"right"},(function(e){var t=e.ref,n=e.style,a=e.placement;return r.a.createElement("div",{ref:t,style:n,"data-placement":a},r.a.createElement(w,{className:ht.a.annotatePartTooltipButton,onClick:m},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"14",viewBox:"5 3 14 18",fill:"var(--color-destructive)"},r.a.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"})),r.a.createElement("span",null,"Remove")))}))):h()},bt=n(213),yt=n(99),Ot=n.n(yt),Nt=function(e){var t=e.text,n=e.createTextNode,c=e.parentContainerRef,o=Object(a.useRef)(null),i=Object(a.useState)([]),l=Object(h.a)(i,2),u=l[0],s=l[1],d=Object(a.useState)(0),f=Object(h.a)(d,2),m=f[0],p=f[1],E=c.current;return Object(a.useLayoutEffect)((function(){if(E){p(E.offsetWidth);var e=new bt.ResizeSensor(E,(function(){p(E.offsetWidth)}));return function(){return e.detach()}}}),[E]),Object(a.useLayoutEffect)((function(){var e=o.current;if(e){e.textContent="";for(var n=[],a=[],r=0;r<t.length;r++){var c=t[r];e.textContent+=c,e.offsetWidth<=m?n.push({textPart:c,originalPartIdx:r}):(a.push(n),n=[{textPart:c,originalPartIdx:r}],e.textContent=c)}a.push(n),e.textContent="";for(var i=0,l=a;i<l.length;i++){for(var u=l[i];u.length>0&&" "===u[0].textPart;)u.splice(0,1);for(;u.length>0&&" "===u[u.length-1].textPart;)u.splice(u.length-1,1)}s(a)}}),[t,m]),r.a.createElement(r.a.Fragment,null,u.map((function(e,t){var a=t===u.length-1;return r.a.createElement("div",{key:t,className:"".concat(a?Ot.a.lastLine:Ot.a.line)},e.map((function(e){return n({textPart:e.textPart,partIdx:e.originalPartIdx})})))})),r.a.createElement("span",{className:Ot.a.hiddenPlaceholder,ref:o}))},xt=n(214),At=n.n(xt),kt=function(){return r.a.createElement("div",{className:At.a.horizontalLine})},Tt=function(e){var t=e.finishedFraction,n=e.hideTooltip,a=e.userSelectionAllowed,c=e.annotateOnUserSelect,o=e.queryComponent,i=e.documentComponent,l=e.guideComponent,u=e.documentComponentRef;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{"--finished-fraction":"".concat(t,"%")},className:st.a.progressBar}),r.a.createElement("div",{className:st.a.container,onClickCapture:n},r.a.createElement("div",{className:st.a.actionBar},o),r.a.createElement(kt,{orientation:"horizontal"}),r.a.createElement("div",{ref:u,className:"".concat(st.a.annotationArea," ").concat(!a&&st.a.noUserSelectionAllowed),onMouseUp:c},i),r.a.createElement("div",{className:st.a.footer},l)))},wt=function(){var e,t,n=Me(),c=n.remainingToFinish,o=n.alreadyFinished,i=n.currentJudgementPair,l=Le(Re),u=l.selectRangeStartEnd,s=l.deleteRange,d=Object(a.useState)(void 0),f=Object(h.a)(d,2),m=f[0],p=f[1],E=Object(a.useRef)(null);function v(e){return function(){return De.rateJudgementPair(e)}}if(e=i?{Digit1:v(ae.NOT_RELEVANT),Digit2:v(ae.MISLEADING_ANSWER),Digit3:v(ae.TOPIC_RELEVANT_DOES_NOT_ANSWER),Digit4:v(ae.GOOD_ANSWER),Digit5:v(ae.PERFECT_ANSWER)}:{},Object(a.useEffect)((function(){var t=function(t){var n=t.code;e.hasOwnProperty(n)&&e[n]()};return document.addEventListener("keyup",t,{passive:!0}),function(){return document.removeEventListener("keyup",t)}})),void 0===c||void 0===o?t=0:(t=void 0===c?0:o/(c+o)*100)>100&&(t=100),!i||void 0===c)return r.a.createElement(Tt,{finishedFraction:t});var g=ge.find((function(e){return e.relevanceLevel===i.relevanceLevel})),_=!g,b=void 0!==i.currentAnnotationStart,y=i.mode===ne.SCORING_AND_SELECT_SPANS,O=y&&!!(null===g||void 0===g?void 0:g.annotationRequired)&&0===i.annotatedRanges.length,N=(null===g||void 0===g?void 0:g.relevanceLevel)===ae.MISLEADING_ANSWER?O?"MISLEADING_REGION_REQUIRED":"ADDITIONAL_MISLEADING_REGIONS_ALLOWED":O?"RELEVANT_REGION_REQUIRED":"ADDITIONAL_RELEVANT_REGIONS_ALLOWED",x=void 0===i.currentAnnotationStart;function A(){p(void 0)}return r.a.createElement(r.a.Fragment,null,r.a.createElement(Tt,{finishedFraction:t,hideTooltip:A,userSelectionAllowed:x,annotateOnUserSelect:function(){var e,t=window.getSelection();if(t){var n=t.anchorNode,a=t.focusNode;if(n&&a){for(var r,c=n;c;){var o;if(null===(o=c.dataset)||void 0===o?void 0:o.idx){r=c.dataset.idx;break}c=c.parentNode}if(r){var i;for(c=a;c;){var l;if(null===(l=c.dataset)||void 0===l?void 0:l.idx){i=c.dataset.idx;break}c=c.parentNode}i&&(null===(e=window.getSelection())||void 0===e||e.empty(),r!==i&&(u({annotationPartIndex:Number(r)}),u({annotationPartIndex:Number(i)})))}}}},queryComponent:r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:st.a.queryText},i.queryText),r.a.createElement(en,null)),documentComponentRef:E,documentComponent:r.a.createElement(Nt,{text:i.docAnnotationParts,parentContainerRef:E,createTextNode:function(e){var t=e.textPart,n=e.partIdx,a=!!i.annotatedRanges.find((function(e){return e.start<=n&&e.end>=n})),c=i.mode===ne.SCORING_AND_SELECT_SPANS&&" "!==t&&!a;return r.a.createElement(_t,{key:n,idx:"".concat(n),text:t,isRangeStart:i.currentAnnotationStart===n,isInSelectedRange:a,showTooltip:m===n,annotationIsAllowedOnPart:c,annotationIsAllowedInGeneral:y,onPartClick:c?function(){return u({annotationPartIndex:n})}:a?function(){return p(n)}:dt,onTooltipClick:function(){s({annotationPartIndex:n}),A()}})}}),guideComponent:_?ge.map((function(e){return r.a.createElement(vt,{key:e.relevanceLevel,rateLevel:e,onClick:v(e.relevanceLevel)})})):r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:st.a.guideText},b?r.a.createElement(r.a.Fragment,null,"Finish your selection"):"RELEVANT_REGION_REQUIRED"===N?r.a.createElement(r.a.Fragment,null,"Please select the relevant regions of the document."):"MISLEADING_REGION_REQUIRED"===N?r.a.createElement(r.a.Fragment,null,"Please select the misleading regions of the document."):"ADDITIONAL_RELEVANT_REGIONS_ALLOWED"===N?r.a.createElement(r.a.Fragment,null,"Feel free to add more relevant regions or go to the next judgement pair."):r.a.createElement(r.a.Fragment,null,"Feel free to add more misleading regions or go to the next judgement pair.")),r.a.createElement(w,{buttonType:"primary",className:st.a.nextButton,disabled:b||O,onClick:function(){return De.submitCurrentJudgement()}},"Next"))}))},jt=n(100),Ct=n.n(jt),St=Z("annotators.service"),Pt={acknowledgePage:function(e){St.info("executing acknowledgement of page...",{page:e}),We.dispatch(Ne.acknowledgePage({page:e})),St.info("acknowledgement of page succeeded!")},submitFeedback:function(){var e=Object(p.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return St.info("executing submission of feedback..."),e.next=3,ee.submitFeedback(We.getState().user.accessToken.val,t);case 3:St.info("submission of feedback succeeded!");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Rt=n(215),Ft=n.n(Rt),It=n(216),Dt=n.n(It),Lt=function(){var e=Qt(),t=[{type:"text",content:"Choose a score for the document"},{type:"image",content:Ft.a,alt:"image showing how to choose a score"},{type:"text",content:"Select regions of the document relevant to the query"},{type:"image",content:Dt.a,alt:"image showing how to select regions of the document"}];return r.a.createElement("div",{className:Ct.a.container},r.a.createElement("span",{className:Ct.a.headline},"Info - How to annotate"),t.map((function(e,t){return"text"===e.type?r.a.createElement("span",{key:t},e.content):r.a.createElement("img",{key:t,className:Ct.a.infoImage,src:e.content,alt:e.alt})})),r.a.createElement(w,{onClick:function(){Pt.acknowledgePage("INFO"),e.routeToAnnotatePage()}},"Continue"))},Gt=n(128),Mt=n.n(Gt),Bt=(lt={},Object(ft.a)(lt,re.VERY_GOOD,"Very good"),Object(ft.a)(lt,re.GOOD,"Good"),Object(ft.a)(lt,re.DECENT,"Decent"),Object(ft.a)(lt,re.DONT_LIKE_IT,"Don't like it"),lt),Jt=function(){function e(e){return t.apply(this,arguments)}function t(){return(t=Object(p.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pt.submitFeedback(t);case 2:return e.next=4,De.preloadJudgements();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement("div",{className:Mt.a.container},r.a.createElement("span",{className:Mt.a.headline},"Feedback"),r.a.createElement("div",null,"How did you like to work with Fira so far?",r.a.createElement("br",null),"We kindly ask you to take a minute to provide some feedback!"),r.a.createElement(z,{initialValues:{feedbackScore:re.VERY_GOOD,feedbackText:""},onSubmit:function(){var t=Object(p.a)(m.a.mark((function t(n){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e({score:n.feedbackScore,text:n.feedbackText});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),elements:[{elementType:"select",label:"Rating",childElements:Object.values(re).map((function(e){return r.a.createElement("option",{key:e,value:e},Bt[e])})),htmlProps:{name:"feedbackScore"}},{elementType:"textarea",htmlProps:{placeholder:"Do you want to add something?",name:"feedbackText",autoComplete:"off"}}]}))},zt=n(80),Ut=n.n(zt),Vt=function(){return r.a.createElement("svg",{width:"128",height:"128"},r.a.createElement("g",null,r.a.createElement("path",{d:"M72.59,58.36c-0.65,1.18-1.3,2.37-1.92,3.55l-0.52,0.98l-0.05,0.08c1.83,2.43,3.4,5.04,4.64,7.69 c0.18,0.37,0.35,0.75,0.52,1.13c1.77-0.52,3.55-0.81,5.29-0.88c-1.31-3.47-3.33-7.07-6.3-10.71 C73.73,59.57,73.16,58.97,72.59,58.36z",style:{fill:"#FCC21B"}}),r.a.createElement("path",{d:"M77.93,85.16c-0.37,0-0.75,0.02-1.13,0.06c-2.07,6.54-8.79,9.4-15.89,8.52 c-11.15-1.37-21.38-9.85-24.81-20.5c-0.7-2.13-0.94-4.25-1.02-6.51c-0.2-5.82,0.92-12.05,6.75-14.46l0.07-0.03 c0.19-0.08,0.38-0.13,0.57-0.19c-0.42-0.63-0.85-1.29-1.26-2.02c-0.58-1.03-0.93-2.12-1.14-3.18c-6.25,2.18-10.06,7.7-12.73,13.78 C24.79,66.45,8.22,111.2,8.22,111.2l-2.22,6c-0.76,2.08-1.94,4.17-1.94,6.44c0,2.65,2.36,4.46,5.02,3.72 c1.78-0.5,3.74-1.42,5.55-2.14c3.83-1.56,10.93-4.63,10.93-4.63l29.68-12.22c0,0,14.31-5.18,20.33-10.85 c2.92-2.75,5.26-6.71,6.29-11.44c-0.21-0.11-0.43-0.23-0.65-0.32C80.21,85.35,79.14,85.16,77.93,85.16z",style:{fill:"#FCC21B"}}),r.a.createElement("path",{d:"M55.68,47.54c0.77,1.47,1.62,3.14,1.94,5.21c1.42,0.6,2.78,1.32,4.07,2.17 c0.45-1.44,0.92-2.86,1.41-4.31c-0.21-0.13-0.42-0.28-0.63-0.4c-2.11-1.2-4.48-2.22-6.95-2.98C55.58,47.34,55.63,47.43,55.68,47.54 z",style:{fill:"#FCC21B"}}),r.a.createElement("path",{d:"M111.93,31.98c-0.16,1-0.12,2.42,0.04,3.4c0.17,1.1,0.42,2.27,0.82,3.31 c0.57,1.46,1.27,0.95,2.7,0.75c0.99-0.13,1.91-0.06,2.89-0.26c1.03-0.21,2.05-0.48,3.08-0.68c2.42-0.46,3.63-1,3.12-3.55 c-0.37-1.84-0.98-3.67-1.46-5.49c-0.44-0.39-1.29-0.17-1.81-0.05c-0.92,0.21-1.83,0.26-2.75,0.42c-1.66,0.27-3.4,0.47-5.03,0.86 C112.7,30.87,112.06,31.12,111.93,31.98z",style:{fill:"#D7598B"}}),r.a.createElement("path",{d:"M98.87,62c0.38,0.87,1.31,0.65,2.22,0.85c2.02,0.46,4.07,0.41,6.14,0.41c0.77,0,2.72,0.29,3.27-0.4 c0.44-0.56,0.06-1.67,0-2.32c-0.08-0.85-0.16-1.69-0.24-2.54c-0.04-0.4,0.03-3.02-0.31-3.24c-0.58-0.39-1.68-0.2-2.34-0.19 c-1.21,0.04-2.4,0.19-3.63,0.19c-1.59,0-3.31,0.02-4.85,0.4c-0.54,1.43-0.39,2.92-0.39,4.49C98.74,60.38,98.58,61.32,98.87,62z",style:{fill:"#40C0E7"}}),r.a.createElement("path",{d:"M91.92,105.19c-0.83-1.23-1.24-2.88-3.09-2.7c-1.74,0.17-3.28,1.55-4.81,2.3 c-0.99,0.48-1.71,1.34-1.91,2.42c-0.23,1.23,0.28,2.21,0.87,3.26c0.44,0.79,0.73,1.7,1.08,2.53c0.36,0.86,0.91,1.63,1.28,2.48 c0.25,0.6,0.17,0.55,0.72,0.76c0.28,0.1,0.74,0.18,1.04,0.19c1.75,0.05,3.65-1.72,4.92-2.76c1.02-0.82,3.06-1.34,2.85-2.89 c-0.15-1.15-0.95-2.26-1.5-3.25C92.91,106.72,92.42,105.94,91.92,105.19z",style:{fill:"#D7598B"}}),r.a.createElement("path",{d:"M111.46,113.59c-0.23-0.15-0.45-0.24-0.65-0.27c-1.06-0.19-1.76,1.09-2.6,1.92 c-1.01,0.97-2.21,1.74-3.13,2.8c-0.99,1.16-0.22,2.2,0.8,2.82c1.11,0.67,2.1,1.51,3.2,2.21c0.98,0.63,1.77,1.19,2.86,0.51 c0.99-0.62,1.54-1.71,2.22-2.62c1.26-1.7,3.41-3.07,1.3-4.94C114.28,114.97,112.76,114.45,111.46,113.59z",style:{fill:"#40C0E7"}}),r.a.createElement("path",{d:"M9,55.06c0.05-0.46,1.35-4.14,0.96-4.25c-0.89-0.22-1.73-0.64-2.63-0.88 c-1.04-0.27-2.11-0.48-3.08-0.96c-1.17-0.58-1.89-0.29-2.38,0.36c-0.69,0.92-0.91,2.57-1.24,3.58c-0.26,0.79-0.42,1.69,0.14,2.25 c0.64,0.63,1.7,0.99,2.53,1.26c1.04,0.34,2.2,0.94,3.27,1.04C8.03,57.62,8.85,56.3,9,55.06z",style:{fill:"#40C0E7"}}),r.a.createElement("path",{d:"M68.63,19.54c1.3,0.58,2.56,0.91,3.89,1.29c0.47,0.14,0.77,0.37,1.26,0.11 c0.63-0.32,1.33-1.43,1.68-2.04c0.83-1.51,1.44-3,2.01-4.59c0.31-0.85,1.23-2.23,1-3.13c-0.2-0.76-1.3-1.23-1.92-1.56 c-0.83-0.43-1.62-1.01-2.46-1.38c-1.08-0.47-2.56-0.98-3.72-1.15c-0.64-0.1-1.09,0.16-1.44,0.57c-0.32,0.37-0.56,0.86-0.8,1.31 c-1.21,2.32-2.7,5.81-2.65,8.49C65.5,18.73,67.67,19.11,68.63,19.54z",style:{fill:"#40C0E7"}}),r.a.createElement("path",{d:"M16.65,33.3c0.73,1.12,1.38,2.14,2.24,3.2c0.84,1.02,1.44,1.22,2.47,0.37 c0.65-0.52,1.39-0.93,2.01-1.49c0.59-0.52,1.08-1.18,1.67-1.72c0.42-0.39,1.25-0.78,1.49-1.32c0.33-0.76-0.36-1.42-0.78-1.98 c-0.52-0.7-0.92-1.46-1.49-2.16c-0.73-0.88-1.52-1.71-2.34-2.53c-0.67-0.67-1.48-1.7-2.24-2.22c-0.2-0.13-0.43-0.22-0.67-0.25 c-0.91-0.13-1.99,0.39-2.7,0.81c-0.97,0.57-1.91,1.42-2.76,2.17c-1.33,1.18-0.04,2.73,0.74,3.85 C15.07,31.11,15.91,32.16,16.65,33.3z",style:{fill:"#D7598B"}}),r.a.createElement("path",{d:"M16.73,9.97c0.67,0.72,1.5,1.59,2.44,2c0.83,0.37,1.68-0.37,2.35-0.78c0.75-0.46,1.36-1.13,1.92-1.8 c0.51-0.62,1.2-1.29,1.58-2.01c0.44-0.82-0.16-1.13-0.77-1.62c-0.73-0.6-1.47-1.22-2.09-1.94c-0.84-0.98-1.68-2.08-2.57-2.98 c-0.3-0.31-0.66-0.39-1.04-0.32c-1.19,0.2-2.6,1.87-3.3,2.42c-0.56,0.43-1.54,1.19-1.71,1.9c-0.21,0.8,0.26,1.57,0.66,2.24 C14.85,8.16,15.85,9.03,16.73,9.97z",style:{fill:"#40C0E7"}}),r.a.createElement("path",{d:"M45.86,29.19c1.38,4.78-2.3,8.47-2.7,13c-0.12,1.31-0.12,2.62,0.1,3.88 c0.14,0.82,0.37,1.62,0.78,2.35c0.54,0.96,1.16,1.83,1.73,2.73c0.56,0.87,1.06,1.75,1.4,2.76c0.75,2.24,0.23,4.26-0.09,6.48 c-0.26,1.77-1.16,3.44-2.24,4.84c-0.33,0.43-1.24,0.98-1.02,1.61c0.03,0.11,0.23,0.15,0.52,0.15c1.2,0,4.03-0.73,4.44-0.92 c1.8-0.87,2.85-2.63,3.78-4.33c1.38-2.52,2.27-5.46,1.88-8.35c-0.08-0.66-0.26-1.28-0.48-1.88c-0.67-1.79-1.78-3.39-2.41-5.22 c-0.08-0.22-0.16-0.44-0.22-0.67c-0.92-3.58,1.29-7.09,3.15-9.94c1.83-2.79,2.52-6.89,1.22-10.09c-0.66-1.62-1.72-3.24-3.01-4.43 c-1.53-1.42-3.86-2.71-3.6-5.16c0.22-2.13,1.66-4.37,2.75-6.13c0.54-0.89,2.24-2.71,2.18-3.73c-0.05-1.04-1.5-1.56-2.19-2.17 c-1.56-1.38-2.8-2.44-4.8-3.07c-0.36-0.12-0.66-0.17-0.94-0.17c-1.29,0-1.74,1.17-2.46,2.43c-1.32,2.33-2.62,4.79-3.5,7.31 c-1.66,4.68-1.91,9.51,1.68,13.89C43.05,25.89,45.34,27.39,45.86,29.19z",style:{fill:"#ED6C30"}}),r.a.createElement("path",{d:"M62.08,69.54c0.25,0.26,0.48,0.37,0.69,0.37c0.39,0,0.7-0.4,0.95-0.87 c0.19-0.36,0.34-0.73,0.46-1.12c0.67-2.25,2-4.48,3.1-6.56c0.2-0.37,0.4-0.73,0.59-1.09c0.76-1.43,1.54-2.86,2.35-4.28 c0.63-1.12,1.26-2.25,1.94-3.33c1.78-2.85,4.18-5.89,7.2-7.48c1.9-1.02,4.04-1.49,5.95-2.5c2.17-1.13,3.44-2.84,4.85-4.79 c1.4-1.93,2.13-4.31,3.41-6.34c0.54-0.86,0.46-1.62,1.41-2.22c2.11-1.32,4.64-0.87,6.98-1.32c5.53-1.06,6.02-8.35,10.54-10.98 c0.95-0.55,1.92-1.06,2.88-1.57c0.56-0.3,1.64-0.67,2.03-1.22c0.67-0.94-0.6-2.17-0.98-3.03c-0.66-1.48-1.65-2.97-2.5-4.35 c-0.72-1.16-1.36-2.21-2.64-2.21l-0.25,0.02c-2.89,0.28-5.47,1.55-7.32,3.76c-2.25,2.7-2.55,6.87-6.09,8.35 c-2.3,0.96-5.01,0.58-7.19,1.91c-2.58,1.58-3.41,4.7-4.13,7.44c-0.54,2-0.57,4.41-2.09,5.98c-2.06,2.11-5.19,2.37-7.83,3.5 c-0.71,0.31-1.39,0.68-2,1.16c-3.35,2.64-5.25,6.97-6.75,10.85c-0.61,1.59-1.16,3.21-1.7,4.83c-0.5,1.51-0.99,3.02-1.46,4.54 c-0.24,0.78-0.5,1.56-0.74,2.35c-0.61,1.98-1.17,4.01-1.89,5.96C61.35,66.55,61.04,68.46,62.08,69.54z",style:{fill:"#ED6C30"}}),r.a.createElement("path",{d:"M127.44,86.8c-0.19-0.2-0.46-0.22-0.73-0.22l-0.31,0.01l-0.17-0.01c-0.6-0.04-1.1-0.3-1.68-0.5 c-2.67-0.93-4.4-1.7-6.76-3.29c-2.66-1.79-5.71-3.46-8.99-3.61l-0.38-0.01c-3.24,0-6.23,1.71-9.48,1.71h-0.02 c-3.6-0.02-6.71-2.58-9.55-4.47c-0.24-0.16-0.48-0.31-0.74-0.45c-2.23-1.26-4.63-1.81-7.05-1.84c-0.06,0-0.13-0.02-0.19-0.02 c-1.67,0-3.35,0.26-4.99,0.72c-1.6,0.44-3.15,1.08-4.63,1.87c-2.11,1.12-4.14,2.47-5.99,3.97c-1.03,0.83-2.16,1.78-2.86,2.93 c-0.38,0.61-0.9,2.93,0.07,3.31l0.13,0.03c0.38,0,1-0.4,1.27-0.57c2.16-1.33,4.44-2.49,6.87-3.25c1.99-0.63,4.08-1.09,6.15-1.17 c0.17-0.01,0.35-0.02,0.52-0.02c1.49,0,2.97,0.23,4.41,0.79c0.02,0.01,0.04,0.02,0.06,0.03c2.01,0.8,3.69,2.18,5.35,3.53 c2.44,1.98,5.15,2.42,7.91,2.42c2.15,0,4.33-0.26,6.46-0.26c2.23,0,4.39,0.29,6.38,1.46c1.62,0.97,3.08,2.24,4.33,3.59 c1.38,1.47,3.14,2.7,5.21,3.02c0.88,0.14,1.68,0.21,2.57,0.22h0.02c1.5,0,2.07-1.73,2.83-2.72c1.04-1.34,1.76-2.88,2.71-4.29 C126.57,89.09,128.12,87.48,127.44,86.8z",style:{fill:"#ED6C30"}})))},qt=function(){var e=Qt();return r.a.createElement("div",{className:Ut.a.container},r.a.createElement("span",{className:Ut.a.headline},"Congratulations!"),r.a.createElement("div",{className:Ut.a.finishedLogo},r.a.createElement(Vt,null)),r.a.createElement("div",null,r.a.createElement("div",null,"You finished your annotation target!"),r.a.createElement("div",null,"Feel free to continue annotating!")),r.a.createElement(w,{className:Ut.a.button,buttonType:"primary",onClick:function(){Pt.acknowledgePage("FINISHED"),e.routeToAnnotatePage()}},"Continue"))},Wt=n(101),Ht=n.n(Wt),Kt=function(){return r.a.createElement("svg",{width:"128",height:"128"},r.a.createElement("g",{id:"Layer_5"},r.a.createElement("polygon",{points:"50.08,62 74.08,62 104.08,4 80.08,4 ",style:{fill:"#006CA2"}}),r.a.createElement("polygon",{points:"65.08,33 53.08,56.2 56.08,62 74.08,62 77.08,56.2 ",style:{fill:"#2F2F2F"}})),r.a.createElement("g",{id:"Layer_2"},r.a.createElement("path",{d:"M76,62v14H52V62H76 M76,56H52c-3.31,0-6,2.69-6,6v14c0,3.31,2.69,6,6,6h24c3.31,0,6-2.69,6-6V62 C82,58.69,79.31,56,76,56L76,56z",style:{fill:"#FCC21B"}}),r.a.createElement("circle",{cx:"64",cy:"94",r:"30",style:{fill:"#FCC21B"}}),r.a.createElement("path",{d:"M-35.79,72.79c-0.67-0.67-1.38-1.31-2.1-1.9c9.77,11.79,9.14,29.29-1.9,40.33 c-11.04,11.04-28.54,11.67-40.33,1.9c0.6,0.72,1.23,1.42,1.9,2.1c11.72,11.72,30.71,11.72,42.43,0 C-24.07,103.5-24.07,84.5-35.79,72.79z",style:{fill:"#F79329"}}),r.a.createElement("path",{d:"M43.89,86.7c-0.4,0-0.79-0.08-1.16-0.24c-1.44-0.62-2.14-2.29-1.58-3.76 c0.01-0.02,0.01-0.05,0.02-0.07c0.01-0.05,0.01-0.04,0.03-0.08c2.65-6.32,8.22-11,14.9-12.54c0.33-0.08,0.68,0.09,0.83,0.4 c0.15,0.31,0.06,0.68-0.21,0.9c-4.38,3.48-7.88,8.17-10.11,13.57c0,0.01-0.01,0.01-0.01,0.02c0,0.01,0,0.01-0.01,0.01 c-0.31,0.72-0.89,1.28-1.62,1.57C44.62,86.63,44.26,86.7,43.89,86.7z",style:{fill:"#FFFFFF"}})),r.a.createElement("g",{id:"star"},r.a.createElement("path",{d:"M62.45,79.8c0.85-1.73,2.25-1.73,3.11,0l2.53,5.13c0.85,1.73,3.12,3.38,5.03,3.65l5.66,0.82 c1.91,0.28,2.34,1.61,0.96,2.96l-4.09,3.99c-1.38,1.35-2.25,4.01-1.92,5.91l0.97,5.63c0.33,1.9-0.8,2.73-2.51,1.83l-5.06-2.66 c-1.71-0.9-4.51-0.9-6.22,0l-5.06,2.66c-1.71,0.9-2.84,0.08-2.51-1.83l0.97-5.63c0.33-1.9-0.54-4.56-1.92-5.91l-4.09-3.99 c-1.38-1.35-0.95-2.68,0.96-2.96l5.66-0.82c1.91-0.28,4.17-1.92,5.03-3.65L62.45,79.8z",style:{fill:"#F79329"}})),r.a.createElement("g",{id:"Layer_3"},r.a.createElement("polygon",{points:"76.08,62 52.08,62 22.08,4 46.08,4 ",style:{fill:"#006CA2"}})),r.a.createElement("g",{id:"Layer_6"},r.a.createElement("path",{d:"M194,4h29.78c1.93,0,4.63,1.12,5.99,2.48l15.03,15.03c1.37,1.37,1.59,3.79,0.5,5.38l-22.03,32.2 c-1.09,1.59-3.56,2.9-5.49,2.9H196l22-36h-24V4z",style:{fill:"#006CA2"}}),r.a.createElement("path",{d:"M208.64,41.31L206,45.64L216,62h1.78c1.11,0,2.4-0.44,3.5-1.11L208.64,41.31z",style:{fill:"#2F2F2F"}}),r.a.createElement("path",{d:"M218,62v14h-24V62H218 M218,56h-24c-3.31,0-6,2.69-6,6v14c0,3.31,2.69,6,6,6h24c3.31,0,6-2.69,6-6 V62C224,58.69,221.31,56,218,56L218,56z",style:{fill:"#FCC21B"}}),r.a.createElement("circle",{cx:"206",cy:"94",r:"30",style:{fill:"#F79329"}}),r.a.createElement("ellipse",{cx:"206",cy:"94",rx:"26",ry:"26",style:{fill:"#FCC21B"},transform:"matrix(0.7071 -0.7071 0.7071 0.7071 -6.132 173.196)"}),r.a.createElement("polygon",{points:"52,202 76,202 106,144 82,144 ",style:{fill:"#006CA2"}}),r.a.createElement("polygon",{points:"67,173 55,196.2 58,202 76,202 79,196.2 ",style:{opacity:.5,fill:"#2F2F2F"}}),r.a.createElement("path",{d:"M78,202v14H54v-14H78 M78,196H54c-3.31,0-6,2.69-6,6v14c0,3.31,2.69,6,6,6h24c3.31,0,6-2.69,6-6 v-14C84,198.69,81.31,196,78,196L78,196z",style:{fill:"#FCC21B"}}),r.a.createElement("circle",{cx:"66",cy:"234",r:"30",style:{fill:"#FCC21B"}}),r.a.createElement("path",{d:"M46.3,220.29 c1.1-1.58,2.39-3.02,3.82-4.29",style:{fill:"none;stroke:#FFFFFF;stroke-width:5;stroke-linecap:round;stroke-miterlimit:10"}}),r.a.createElement("path",{d:"M87.21,212.79c-0.67-0.67-1.38-1.31-2.1-1.9c9.77,11.79,9.14,29.29-1.9,40.33 c-11.04,11.04-28.54,11.67-40.33,1.9c0.6,0.72,1.23,1.42,1.9,2.1c11.72,11.72,30.71,11.72,42.43,0 C98.93,243.5,98.93,224.5,87.21,212.79z",style:{fill:"#F79329"}}),r.a.createElement("polygon",{points:"78,202 54,202 24,144 48,144 ",style:{fill:"#006CA2"}}),r.a.createElement("path",{d:"M78.05,241.86c-0.61-1.83,0.3-4.04,2.03-4.9l2.78-1.39c1.73-0.86,1.73-2.28,0-3.14l-2.78-1.39 c-1.73-0.86-2.64-3.07-2.03-4.9l0.98-2.95c0.61-1.83-0.39-2.83-2.22-2.22l-2.95,0.98c-1.83,0.61-4.04-0.3-4.9-2.03l-1.39-2.78 c-0.86-1.73-2.28-1.73-3.14,0l-1.39,2.78c-0.86,1.73-3.07,2.64-4.9,2.03l-2.95-0.98c-1.83-0.61-2.83,0.39-2.22,2.22l0.98,2.95 c0.61,1.83-0.3,4.04-2.03,4.9l-2.78,1.39c-1.73,0.86-1.73,2.28,0,3.14l2.78,1.39c1.73,0.86,2.64,3.07,2.03,4.9l-0.98,2.95 c-0.61,1.83,0.39,2.83,2.22,2.22l2.95-0.98c1.83-0.61,4.04,0.3,4.9,2.03l1.39,2.78c0.86,1.73,2.28,1.73,3.14,0l1.39-2.78 c0.86-1.73,3.07-2.64,4.9-2.03l2.95,0.98c1.83,0.61,2.83-0.39,2.22-2.22L78.05,241.86z",style:{fill:"#F79329"}}),r.a.createElement("path",{d:"M212,200v16h-12v-16H212 M212,194h-12c-3.31,0-6,2.69-6,6v16c0,3.31,2.69,6,6,6h12 c3.31,0,6-2.69,6-6v-16C218,196.69,215.31,194,212,194L212,194z",style:{fill:"#FCC21B"}}),r.a.createElement("circle",{cx:"206",cy:"234",r:"30",style:{fill:"#FCC21B"}}),r.a.createElement("path",{d:"M186.3,220.29 c1.1-1.58,2.39-3.02,3.82-4.29",style:{fill:"none;stroke:#FFFFFF;stroke-width:5;stroke-linecap:round;stroke-miterlimit:10"}}),r.a.createElement("path",{d:"M227.21,212.79c-0.67-0.67-1.38-1.31-2.1-1.9c9.77,11.79,9.14,29.29-1.9,40.33 c-11.04,11.04-28.54,11.67-40.33,1.9c0.6,0.72,1.23,1.42,1.9,2.1c11.72,11.72,30.71,11.72,42.43,0 C238.93,243.5,238.93,224.5,227.21,212.79z",style:{fill:"#F79329"}}),r.a.createElement("path",{d:"M218.05,241.86c-0.61-1.83,0.3-4.04,2.03-4.9l2.78-1.39c1.73-0.86,1.73-2.28,0-3.14l-2.78-1.39 c-1.73-0.86-2.64-3.07-2.03-4.9l0.98-2.95c0.61-1.83-0.39-2.83-2.22-2.22l-2.95,0.98c-1.83,0.61-4.04-0.3-4.9-2.03l-1.39-2.78 c-0.86-1.73-2.28-1.73-3.14,0l-1.39,2.78c-0.86,1.73-3.07,2.64-4.9,2.03l-2.95-0.98c-1.83-0.61-2.83,0.39-2.22,2.22l0.98,2.95 c0.61,1.83-0.3,4.04-2.03,4.9l-2.78,1.39c-1.73,0.86-1.73,2.28,0,3.14l2.78,1.39c1.73,0.86,2.64,3.07,2.03,4.9l-0.98,2.95 c-0.61,1.83,0.39,2.83,2.22,2.22l2.95-0.98c1.83-0.61,4.04,0.3,4.9,2.03l1.39,2.78c0.86,1.73,2.28,1.73,3.14,0l1.39-2.78 c0.86-1.73,3.07-2.64,4.9-2.03l2.95,0.98c1.83,0.61,2.83-0.39,2.22-2.22L218.05,241.86z",style:{fill:"#F79329"}}),r.a.createElement("path",{d:"M218,4h-29.78c-1.93,0-4.63,1.12-5.99,2.48l-15.03,15.03c-1.37,1.37-1.59,3.79-0.5,5.38l22.03,32.2 c1.09,1.59,3.56,2.9,5.49,2.9H216l-22-36h24V4z",style:{fill:"#006CA2"}}),r.a.createElement("path",{d:"M230,180.49c0,1.93-1.17,4.57-2.61,5.86l-14.78,13.3c-1.44,1.29-4.19,2.35-6.12,2.35h-0.98 c-1.93,0-4.69-1.06-6.12-2.35l-14.78-13.3c-1.44-1.29-2.61-3.93-2.61-5.86V144h48V180.49z",style:{fill:"#006CA2"}}),r.a.createElement("polygon",{points:"190,191.2 198,198.4 198,144 190,144 ",style:{fill:"#40C0E7"}}),r.a.createElement("path",{d:"M230,180.49c0,1.93-1.17,4.57-2.61,5.86l-14.78,13.3c-1.44,1.29-4.19,2.35-6.12,2.35h-0.98 c-1.93,0-4.69-1.06-6.12-2.35l-14.78-13.3c-1.44-1.29-2.61-3.93-2.61-5.86V144h48V180.49z",style:{fill:"#006CA2"}}),r.a.createElement("path",{d:"M204.45,79.8c0.85-1.73,2.25-1.73,3.11,0l2.53,5.13c0.85,1.73,3.12,3.38,5.03,3.65l5.66,0.82 c1.91,0.28,2.34,1.61,0.96,2.96l-4.09,3.99c-1.38,1.35-2.25,4.01-1.92,5.91l0.97,5.63c0.33,1.9-0.8,2.73-2.51,1.83l-5.06-2.66 c-1.71-0.9-4.51-0.9-6.22,0l-5.06,2.66c-1.71,0.9-2.84,0.08-2.51-1.83l0.97-5.63c0.33-1.9-0.54-4.56-1.92-5.91l-4.09-3.99 c-1.38-1.35-0.95-2.68,0.96-2.96l5.66-0.82c1.91-0.28,4.17-1.92,5.03-3.65L204.45,79.8z",style:{fill:"#F79329"}}),r.a.createElement("path",{d:"M188,82 c1.1-1.58,2.39-3.02,3.82-4.29",style:{fill:"none;stroke:#FFFFFF;stroke-width:5;stroke-linecap:round;stroke-miterlimit:10"}}),r.a.createElement("path",{d:"M198.75,26L185.01,4.73c-1.09,0.45-2.1,1.07-2.79,1.75L194,26H198.75z",style:{fill:"#2F2F2F"}})))},Yt=function(){return r.a.createElement("div",{className:Ht.a.container},r.a.createElement("span",{className:Ht.a.headline},"Wow!"),r.a.createElement("div",{className:Ht.a.finishedLogo},r.a.createElement(Kt,null)),r.a.createElement("div",null,r.a.createElement("div",null,"You annotated every query document pair we have for you!"),r.a.createElement("div",null,"Thank you for your participation!")))};function Qt(){var e=Object(s.g)();return{routeToAnnotatePage:function(){e.push("annotate")},routeToInfoPage:function(){e.push("info")}}}var Zt,Xt=function(){var e=Object(s.h)(),t=ot(),n=t.userAcknowledgedInfoPage,a=t.userAcknowledgedFinishedPage,c=Me(),o=c.remainingToFinish,i=c.remainingUntilFirstFeedbackRequired,l=c.countOfFeedbacks,u=c.annotationDataReceivedFromServer,d=c.countOfNotPreloadedPairs,f=c.pairsToJudge,m=r.a.createElement(s.a,{to:"".concat(e.path,"/").concat("annotate")}),p=u?o>0&&!n?"INFO_PAGE":i<=0&&l<1||o<=0&&l<2?"FEEDBACK_PAGE":o<=0&&!a?"FINISHED_PAGE":d<=0&&0===f.length?"EVERYTHING_ANNOTATED_PAGE":"ANNOTATION_PAGE":"ANNOTATION_PAGE";return r.a.createElement(s.d,null,r.a.createElement(s.b,{path:"".concat(e.path,"/").concat("annotate")},"INFO_PAGE"===p?r.a.createElement(s.a,{to:"".concat(e.path,"/").concat("info")}):"FEEDBACK_PAGE"===p?r.a.createElement(s.a,{to:"".concat(e.path,"/").concat("feedback")}):"FINISHED_PAGE"===p?r.a.createElement(s.a,{to:"".concat(e.path,"/").concat("finished")}):"EVERYTHING_ANNOTATED_PAGE"===p?r.a.createElement(s.a,{to:"".concat(e.path,"/").concat("everything-finished")}):"ANNOTATION_PAGE"===p?r.a.createElement(wt,null):S()),r.a.createElement(s.b,{path:"".concat(e.path,"/").concat("info")},r.a.createElement(Lt,null)),r.a.createElement(s.b,{path:"".concat(e.path,"/").concat("feedback")},"FEEDBACK_PAGE"!==p?m:r.a.createElement(Jt,null)),r.a.createElement(s.b,{path:"".concat(e.path,"/").concat("finished")},"FINISHED_PAGE"!==p?m:r.a.createElement(qt,null)),r.a.createElement(s.b,{path:"".concat(e.path,"/").concat("everything-finished")},"EVERYTHING_ANNOTATED_PAGE"!==p?m:r.a.createElement(Yt,null)),m)},$t=r.a.forwardRef((function(e,t){var n=e.onClick;return r.a.createElement(w,{ref:t,buttonType:"tertiary",className:ct.a.menuButton,onClick:n},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24"},r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.a.createElement("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"})))})),en=function(){var e,t=Object(a.useState)(!1),n=Object(h.a)(t,2),c=n[0],o=n[1];e=function(){return o(!1)},Object(a.useEffect)((function(){var t=function(){return e()};return document.addEventListener("click",t,{passive:!0}),function(){return document.removeEventListener("click",t)}}));var i=Le(Ne),l=Qt();function u(){i.logout()}function s(){l.routeToInfoPage()}function d(){o((function(e){return!e}))}function f(e){return r.a.createElement($t,{onClick:d,ref:e})}return c?r.a.createElement(tt.c,null,r.a.createElement(nt.a,null,(function(e){return f(e.ref)})),r.a.createElement(at.a,{placement:"bottom-end"},(function(e){var t=e.ref,n=e.style,a=e.placement;return r.a.createElement("div",{ref:t,style:n,className:ct.a.container,"data-placement":a},r.a.createElement(w,{onClick:s},"Go to Info Page"),r.a.createElement(w,{onClick:u},"Logout"))}))):f()},tn=function(){var e=Object(a.useState)(void 0),t=Object(h.a)(e,2),n=t[0],c=t[1],o=Object(i.c)((function(e){return e.user}));return Object(a.useEffect)((function(){function e(){return(e=Object(p.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=c,e.next=3,$e.getStatistics();case 3:e.t1=e.sent.statistics,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[o]),r.a.createElement("div",{className:Ze.a.container},r.a.createElement("div",{className:Ze.a.adminArea},r.a.createElement("div",{className:Ze.a.actionBar},r.a.createElement("div",{className:Ze.a.actionButtons},r.a.createElement(w,{className:Ze.a.button,onClick:$e.exportJudgements},r.a.createElement("span",null,"Export Judgements")),r.a.createElement(w,{className:Ze.a.button,onClick:$e.exportFeedback},r.a.createElement("span",null,"Export Feedback"))),r.a.createElement(en,null)),r.a.createElement(kt,{orientation:"horizontal"}),r.a.createElement(b.c,{initialValues:{judgementMode:ne.SCORING_AND_SELECT_SPANS,rotateDocumentText:"true"},onSubmit:function(){var e=Object(p.a)(m.a.mark((function e(t,n){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.setSubmitting,e.prev=1,e.next=4,$e.updateConfig(Object(g.a)({},t,{rotateDocumentText:"true"===t.rotateDocumentText}));case 4:a(!0),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),a(!1);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,n){return e.apply(this,arguments)}}()},(function(e){var t=e.isSubmitting;return r.a.createElement(b.b,{className:Ze.a.actionBar},r.a.createElement("div",{className:Ze.a.options},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"judgementMode"},"Judgement Mode:"),r.a.createElement(b.a,{name:"judgementMode",as:"select"},Object.values(ne).map((function(e){return r.a.createElement("option",{key:e,value:e},e)})))),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"rotateDocumentText"},"Rotate Document Text:"),r.a.createElement(b.a,{name:"rotateDocumentText",as:"select"},r.a.createElement("option",{value:"true"},"true"),r.a.createElement("option",{value:"false"},"false")))),r.a.createElement(w,{className:Ze.a.button,type:"submit",disabled:t,isLoading:t},"Update Config"))})),r.a.createElement(kt,{orientation:"horizontal"}),r.a.createElement("div",{className:Ze.a.statisticsContainer},n&&n.map((function(e){return r.a.createElement("div",{key:e.id,className:Ze.a.statistic},r.a.createElement("div",{className:Ze.a.statisticValue},e.value),r.a.createElement("div",{className:Ze.a.statisticLabel},e.label))})))))},nn=function(e){var t=e.requiredRole,n=Object(_.a)(e,["requiredRole"]),a=Object(i.c)((function(e){return e.user}));return a&&(null===a||void 0===a?void 0:a.role)===t?r.a.createElement(s.b,n):r.a.createElement(s.a,{to:"/"})},an=null===(Zt=/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/.exec("/fira-trec"))||void 0===Zt?void 0:Zt[5],rn=function(){var e=ot().userRole;return e?e===ce.ADMIN?r.a.createElement(s.a,{to:"/admin"}):e===ce.ANNOTATOR?r.a.createElement(s.a,{to:"/annotator"}):void S():r.a.createElement(s.a,{to:"/login"})},cn=function(){return r.a.createElement(d.a,{basename:an},r.a.createElement(s.d,null,r.a.createElement(s.b,{exact:!0,path:"/"},r.a.createElement(rn,null)),r.a.createElement(s.b,{path:"/login"},r.a.createElement(Ye,null)),r.a.createElement(nn,{path:"/admin",requiredRole:ce.ADMIN},r.a.createElement(tn,null)),r.a.createElement(nn,{path:"/annotator",requiredRole:ce.ANNOTATOR},r.a.createElement(Xt,null)),r.a.createElement(s.a,{to:"/"})))},on=function(){return r.a.createElement("div",{className:u.a.app},r.a.createElement(cn,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ln=Z("load-stored-user");var un=[function(){ln.info("load user from browser storage");var e=me();e?(ln.info("stored user found. dispatching authenticate and acknowledge info page...",{storedUser:e}),We.dispatch(Ne.authenticate(e)),e.acknowledgedInfoPage&&We.dispatch(Ne.acknowledgePage({page:"INFO"}))):ln.info("no stored user found")}];Z("boot").info("executing boot scripts..."),un.forEach((function(e){return e()}));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(i.a,{store:We},r.a.createElement(on,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},38:function(e,t,n){e.exports={labelInput:"FloatingInput_labelInput__10wpa",inputContainer:"FloatingInput_inputContainer__QiCsd",inputContainerError:"FloatingInput_inputContainerError__3CdgT",label:"FloatingInput_label__2jORm",labelActive:"FloatingInput_labelActive__1MHdi",input:"FloatingInput_input__gLnnR",inputActive:"FloatingInput_inputActive__2r5uL",textarea:"FloatingInput_textarea__17ztw",select:"FloatingInput_select__3m6Yr"}},39:function(e,t,n){e.exports={progressBar:"Annotation_progressBar__1jTVR",container:"Annotation_container__235hn",actionBar:"Annotation_actionBar__kQjP7",queryText:"Annotation_queryText__ETBSK",annotationArea:"Annotation_annotationArea__tNPNj",noUserSelectionAllowed:"Annotation_noUserSelectionAllowed__346u6",footer:"Annotation_footer__1iEYQ",guideText:"Annotation_guideText__2LwRl",nextButton:"Annotation_nextButton__Oigsj",loading:"Annotation_loading__laYDz",shimmer:"Annotation_shimmer__1oIFF"}},47:function(e,t,n){e.exports={container:"RateButton_container__3gt5W",notRelevant:"RateButton_notRelevant__3wpKi",misleadingAnswer:"RateButton_misleadingAnswer__27_t0",topicRelevantDoesNotAnswer:"RateButton_topicRelevantDoesNotAnswer__13C4J",goodAnswer:"RateButton_goodAnswer__2g9Bs",perfectAnswer:"RateButton_perfectAnswer__1XzD9",button:"RateButton_button__376Af",hotkey:"RateButton_hotkey__ze67j"}},51:function(e,t,n){e.exports={annotatePart:"AnnotationPart_annotatePart__3YsjT",rangeStart:"AnnotationPart_rangeStart__1czle",isInRange:"AnnotationPart_isInRange__hFdLD",annotationAllowedOnPart:"AnnotationPart_annotationAllowedOnPart__Be0XQ",annotationAllowedInGeneral:"AnnotationPart_annotationAllowedInGeneral__33pWq",annotatePartTooltipButton:"AnnotationPart_annotatePartTooltipButton__1qKz-",whitespace:"AnnotationPart_whitespace__2RiBT"}},63:function(e,t,n){e.exports={form:"Form_form__1uDGN",inputContainer:"Form_inputContainer__1oHRC",inputDivider:"Form_inputDivider__36Zo9",errorList:"Form_errorList__1LRve",button:"Form_button__3zRcn"}},64:function(e,t,n){e.exports={button:"Button_button__aUVEj",typePrimary:"Button_typePrimary__3vapG",typeSecondary:"Button_typeSecondary__21OUE",typeTertiary:"Button_typeTertiary__lB476",animate:"Button_animate__P4pSL"}},78:function(e,t,n){e.exports={container:"Login_container__1qZ_N",inputArea:"Login_inputArea__3gas0",headline:"Login_headline__1PqMZ",inputHeadline:"Login_inputHeadline__2vy_z",inputContainer:"Login_inputContainer__3Jpw4",inputDivider:"Login_inputDivider__a50Ku",errorList:"Login_errorList__2PJJj"}},80:function(e,t,n){e.exports={container:"AnnotationFinished_container__1YX9s",headline:"AnnotationFinished_headline__10bUM",button:"AnnotationFinished_button__yBGUR"}},98:function(e,t,n){e.exports={ldsEllipsis:"LoadingIndicator_ldsEllipsis__1NuRE",typePrimary:"LoadingIndicator_typePrimary__GpZdE",typeSecondary:"LoadingIndicator_typeSecondary__2jfcd","lds-ellipsis1":"LoadingIndicator_lds-ellipsis1__3Vee3","lds-ellipsis2":"LoadingIndicator_lds-ellipsis2__1xuwq","lds-ellipsis3":"LoadingIndicator_lds-ellipsis3__14o4E"}},99:function(e,t,n){e.exports={line:"JustifiedText_line__1A_Cf",lastLine:"JustifiedText_lastLine__33e4T",hiddenPlaceholder:"JustifiedText_hiddenPlaceholder__2vWo8"}}},[[222,1,2]]]);
//# sourceMappingURL=main.d0901223.chunk.js.map